!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//wq.360buyimg.com/wxapp-pingou-taro/dist/index/",t(t.s=53)}([function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var a=n(27)("wks"),r=n(19),o=n(1).Symbol,i="function"==typeof o;(e.exports=function(e){return a[e]||(a[e]=i&&o[e]||(i?o:r)("Symbol."+e))}).store=a},function(e,t,n){var a=n(1),r=n(0),o=n(12),i=n(8),c=n(9),u=function(e,t,n){var s,l,f,d=e&u.F,p=e&u.G,h=e&u.S,g=e&u.P,m=e&u.B,v=e&u.W,b=p?r:r[t]||(r[t]={}),y=b.prototype,_=p?a:h?a[t]:(a[t]||{}).prototype;p&&(n=t);for(s in n)(l=!d&&_&&void 0!==_[s])&&c(b,s)||(f=l?_[s]:n[s],b[s]=p&&"function"!=typeof _[s]?n[s]:m&&l?o(f,a):v&&_[s]==f?function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((b.virtual||(b.virtual={}))[s]=f,e&u.R&&y&&!y[s]&&i(y,s,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var a=n(6);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var a=n(4),r=n(35),o=n(23),i=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(5),r=n(17);e.exports=n(7)?function(e,t,n){return a.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var a=n(37),r=n(24);e.exports=function(e){return a(r(e))}},function(e,t,n){var a=n(16);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(36),r=n(28);e.exports=Object.keys||function(e){return a(e,r)}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(5).f,r=n(9),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,n){var a=n(6),r=n(1).document,o=a(r)&&a(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var a=n(6);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(27)("keys"),r=n(19);e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){var a=n(0),r=n(1),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:n(14)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var a=n(24);e.exports=function(e){return Object(a(e))}},function(e,t,n){var a=n(4),r=n(69),o=n(28),i=n(26)("IE_PROTO"),c=function(){},u=function(){var e,t=n(22)("iframe"),a=o.length;for(t.style.display="none",n(40).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;a--;)delete u.prototype[o[a]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=a(e),n=new c,c.prototype=null,n[i]=e):n=u(),void 0===t?n:r(n,t)}},function(e,t,n){t.f=n(2)},function(e,t,n){var a=n(1),r=n(0),o=n(14),i=n(32),c=n(5).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";function a(e){var t,n;this.promise=new e(function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a}),this.resolve=r(t),this.reject=r(n)}var r=n(16);e.exports.f=function(e){return new a(e)}},function(e,t,n){e.exports=!n(7)&&!n(10)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(9),r=n(11),o=n(60)(!1),i=n(26)("IE_PROTO");e.exports=function(e,t){var n,c=r(e),u=0,s=[];for(n in c)n!=i&&a(c,n)&&s.push(n);for(;t.length>u;)a(c,n=t[u++])&&(~o(s,n)||s.push(n));return s}},function(e,t,n){var a=n(13);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(25),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t,n){var a=n(20),r=n(17),o=n(11),i=n(23),c=n(9),u=n(35),s=Object.getOwnPropertyDescriptor;t.f=n(7)?s:function(e,t){if(e=o(e),t=i(t,!0),u)try{return s(e,t)}catch(e){}if(c(e,t))return r(!a.f.call(e,t),e[t])}},function(e,t,n){var a=n(1).document;e.exports=a&&a.documentElement},function(e,t,n){var a=n(9),r=n(30),o=n(26)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";var a=n(77)(!0);n(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var a=n(14),r=n(3),o=n(44),i=n(8),c=n(15),u=n(78),s=n(21),l=n(41),f=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,g,m,v){u(n,t,h);var b,y,_,w=function(e){if(!d&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",E="values"==g,C=!1,x=e.prototype,N=x[f]||x["@@iterator"]||g&&x[g],P=N||w(g),S=g?E?w("entries"):P:void 0,D="Array"==t?x.entries||N:N;if(D&&(_=l(D.call(new e)))!==Object.prototype&&_.next&&(s(_,k,!0),a||"function"==typeof _[f]||i(_,f,p)),E&&N&&"values"!==N.name&&(C=!0,P=function(){return N.call(this)}),a&&!v||!d&&!C&&x[f]||i(x,f,P),c[t]=P,c[k]=p,g)if(b={values:E?P:w("values"),keys:m?P:w("keys"),entries:S},v)for(y in b)y in x||o(x,y,b[y]);else r(r.P+r.F*(d||C),t,b);return b}},function(e,t,n){e.exports=n(8)},function(e,t,n){n(79);for(var a=n(1),r=n(8),o=n(15),i=n(2)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<c.length;u++){var s=c[u],l=a[s],f=l&&l.prototype;f&&!f[i]&&r(f,i,s),o[s]=o.Array}},function(e,t,n){var a=n(36),r=n(28).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},function(e,t){},function(e,t,n){var a=n(13),r=n(2)("toStringTag"),o="Arguments"==a(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),r))?n:o?a(t):"Object"==(c=a(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t,n){var a=n(4),r=n(16),o=n(2)("species");e.exports=function(e,t){var n,i=a(e).constructor;return void 0===i||void 0==(n=a(i)[o])?t:r(n)}},function(e,t,n){var a,r,o,i=n(12),c=n(102),u=n(40),s=n(22),l=n(1),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,g=l.Dispatch,m=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){c("function"==typeof e?e:Function(e),t)},a(m),m},p=function(e){delete v[e]},"process"==n(13)(f)?a=function(e){f.nextTick(i(b,e,1))}:g&&g.now?a=function(e){g.now(i(b,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=y,a=i(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(a=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):a="onreadystatechange"in s("script")?function(e){u.appendChild(s("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(i(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var a=n(4),r=n(6),o=n(34);e.exports=function(e,t){if(a(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(54),o=a(r),i=n(56),c=a(i),u=n(62),s=a(u),l=n(66),f=a(l),d=n(70),p=a(d),h=n(74),g=a(h),m=n(91),v=a(m),b=n(94),y=a(b);(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{101:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){},11:function(e,t,n){function a(e,t,n){0!=t&&1==window.logout||window.JD.report.umpBiz({bizid:"111",operation:e,result:t,source:"0",message:n||""})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Y.isXcx){var a=/^wxa:\/\/\w*?\/(.*)$/g.exec(e);a&&a[1]&&(e="/"+a[1])}re(e,t,n)}function i(e){return!e||e<=0?"0":e<1e4?e:e<1e8?(e/1e4).toFixed(1)+"万":(e/1e8).toFixed(1)+"亿"}function u(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function l(e,t,n,a){var r=new Date;if(!Y.isXcx){var o=Y.JD.url.getUrlParam("debugTime");r=o?new Date(decodeURIComponent(o)):r}r=n||r;for(var i=[],c=t||e.length,u=0,s=e.length;u<s&&(Date.parse(e[u].startTime)<=r&&Date.parse(e[u].endTime)>r&&i.push(e[u]),i.length!=c);u++);return"old"==a&&i.sort(function(e,t){return Date.parse(t.startTime)-Date.parse(e.startTime)}),i}function d(e){var t={"15-1":{template:"满X-Y",targetKey:{X:"needMoney",Y:"rewardMoney"},inList:!0,handler:null},"15-7":{template:"满X享Y折",targetKey:{X:"needMoney",Y:"percent"},inList:!0,handler:function(e,t){return[e,(100-t)/10]}},"15-8":{template:"每满X-Y",targetKey:{X:"needMoney",Y:"rewardMoney"},inList:!1,handler:null},"15-9":{template:"每满X-Y",targetKey:{X:"needMoney",Y:"rewardMoney"},inList:!1,handler:null},"15-13":{template:"满X享Y折",targetKey:{X:"needMoney",Y:"percent"},inList:!1,handler:function(e,t){return[e,(100-t)/10]}},"15-14":{template:"满X-Y",targetKey:{X:"needMoney",Y:"rewardMoney"},inList:!0,handler:null},"15-18":{template:"X元Y件",targetKey:{X:"topSkuNeedMoney",Y:"needNum"},inList:!1,handler:null},"16-3":{template:"满X-Y",targetKey:{X:"needMoney",Y:"rewardMoney"},inList:!0,handler:null},"19-15":{template:"买X免Y",targetKey:{X:"needNum",Y:"deliverNum"},inList:!1,handler:null}};try{for(var n=[],a=JSON.parse(e),r="",o=null,i=[];a.length;){var c=a.shift(),u=JSON.parse(c.subextinfo);if((i=(o=t[c.promtype+"-"+u.subExtType])?o.inList?u.subRuleList:[u]:[]).length)for(var s=0;s<i.length;s++){var l=i[s][o.targetKey.X],f=i[s][o.targetKey.Y];if(l&&f){var d=o.handler?o.handler(l,f):[l,f];r=o.template.replace("X",d[0]).replace("Y",d[1]),n.push(r)}}}return n}catch(e){return[]}}function h(e,t){return Y.JD.img.getImgUrl(e,t)}function m(e,t,n){var a=null,r=Date.parse(new Date);return function(){var o=this,i=arguments;null!==a&&clearTimeout(a);var c=Date.parse(new Date);c-r>=n?(e.apply(this,arguments),r=c):a=setTimeout(function(){e.apply(o,i)},t)}}function b(e){e&&Z()({method:"GET",url:"https://wq.jd.com/mcoss/rpds/report",data:{pps:function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e)},priority:"REPORT"}).then(function(e){console.log("pps 点击上报成功")}).catch(function(e){console.warn("pps 点击上报失败")})}function _(e){return new y.default(function(t,n){if(e){var r=new Date;if(!Y.isXcx){var o=Y.JD.url.getUrlParam("debugTime");r=o?new Date(decodeURIComponent(o)):r}r=Math.floor(r.getTime()/1e3),e.pretime=r,Z.a.get({url:ie.adLink,dataType:oe,data:e}).then(function(e){var r=e.body;0==r.errCode?(a(18,0,"success"),t(r.list)):(n(),a(18,r.errCode,"fail: "+r.errCode))}).catch(function(e){var t=e.code,r=e.message;n(),a(18,t,"catch Error code:"+t+"message:"+r)})}else n()})}function w(){return new y.default(function(e,t){Z.a.get({url:ie.isNewUser,dataType:oe}).then(function(t){var n=t.body,a=!(0!=n.retcode)&&n.isNewUser==ce.NEW;e(a)}).catch(function(e){var n=e.code,r=e.message;t(),a(18,n,"catch Error code:"+n+"message:"+r)})})}function k(){return new y.default(function(e,t){var n=function(){var e=Y.isXcx?2==Y.JD.cookie.get("wxapp_type")?"xcx_dl":"xcx_gw":Y.JD.device.scene;return"jdm"!==e&&"mobile"!==e||(e="m"),{qq:{source:"sq_index",platform:"1"},weixin:{source:"wx_index",platform:"2"},jdapp:{source:"app_index",platform:"3"},jdpingou:{source:"pgapp_index",platform:"7"},xcx_gw:{source:"xcx_gw_index",platform:"4"},m:{source:"m_index",platform:"8"},xcx_dl:{source:"xcx_dl_index",platform:"9"},jdjr:{source:"jdjr_index",platform:""},skapp:{source:"tejia_index",platform:""}}[e]}();Z.a.get({url:ie.checkAppNewOrder,dataType:oe,data:n}).then(function(n){var a=n.body;0==a.recode?e(a):t()}).catch(function(e){t()})})}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function P(e,t,n){return t in e?(0,v.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function T(e){var t={},n={},r=[],o=l(e).map(function(e){var a=e.name,r=e.sortId,o=e.smartId,i=e.bubbleConfig,c=void 0===i?[]:i,u=e.subCategory,s=void 0===u?[]:u,f=e.actConfig,d=void 0===f?[]:f,p=e.ptag;c=l(c,1)[0],s=l(s);var h=4*Math.floor(s.length/4);s=(s=s.slice(0,h)).map(function(e){var t=e.name,a=e.sortId,r={name:t,sortId:a,smartId:e.smartId,img:e.img,ptag:p+".2"};return n[a]=r,r}),d=l(d,1)[0];var g={name:a,sortId:r,smartId:o,ptag:p,subCategory:s,actConfig:d,bubbleText:c&&c.text&&c.text.substring(0,3)};return t[r]=g,g});return function(e){var t="298";return e&&e.proid&&(t=e.proid),new y.default(function(n,r){Z.a.get({url:ie.tabSort,dataType:oe,data:{proids:t,recpos:e.recpos}}).then(function(e){var t=e.body;if(0==t.errcode&&t.data.length>0){var o=t.data[0].pfloor;n(o),a(20,0,"success")}else a(20,t.errcode,"fail: "+t.errcode),r()}).catch(function(e){var t=e.code,n=e.message;r(),a(20,t,"catch Error code:"+t+"message:"+n)})})}({proid:"298",recpos:6667}).then(function(e){return e.forEach(function(e,a){var o=t[e.pid],i=(o&&o.subCategory,e.cfloor),c=[];o&&(o.pps=e.pps,i&&i.forEach(function(e){var t=n[e.cid];t&&(t.cname=e.cname,t.pps=e.pps,c.push(t))}),c.length&&c.length===o.subCategory.length&&(o.subCategory=c),r.push(o))}),r.length===o.length?r:o}).catch(function(e){return o})}function I(e){var t={iconConfigList:[],iconBasicConfig:{}},n=l(e.iconConfigList);return function(e){return w().then(function(t){return e.map(function(e){var n=e.iconUrl,a=e.link,r=e.addRefer,o=e.descText,i=e.range,c=e.iconVKUrl,u=e.vkName,s=e.vkLink,l=e.dBubbleText,f=e.sBubbleText,d=e.rd,p=e.vkRD;return s&&c&&u&&(!t&&"new"===i||t&&"old"===i)&&(a=s,n=c,o=u,d=p),{rd:d,vkRD:p,iconUrl:n,link:a,addRefer:r,descText:o,dBubbleText:l,sBubbleText:f}})}).catch(function(){return e})}(n=(n=n.filter(function(e){return e.descText&&e.link&&e.iconUrl}).map(function(e,t){var n=Y.JD.cookie.get("visitkey")||"",a=e.iconBubbleConfig,r=e.iconUrl,o=e.rd,i=e.link,c=e.addRefer,u=e.descText,s=e.range,f=e.iconVKUrl,d=e.vkName,p=e.vkValue,h=e.vkRD,g=e.vkLink;if(o=o||Y.JD.url.getUrlParam("ptag",i),h=h||Y.JD.url.getUrlParam("ptag",g),p&&"all"===s&&n){var m=n.length,v=Number(n.substring(m-2,m));v>=Number(p)&&v<100&&(i=g,r=f,u=d,o=h)}var b=l(a)[0]||{},y=b.dBubbleText||"",_=b.sBubbleText||"";return{dBubbleText:y.substring(0,1),sBubbleText:_.substring(0,2),iconUrl:r,link:i,addRefer:c,descText:u,range:s,iconVKUrl:f,vkName:d,vkValue:p,vkLink:g,rd:o,vkRD:h}})).length<10?n.slice(0,5):n.slice(0,10)).then(function(n){return t.iconConfigList=[n],t.iconBasicConfig=l(e.iconBasicConfig)[0]||{},t})}function j(e){return new y.default(function(t,n){var r=e.id,o=e.pi,c=void 0===o?1:o,u=e.pc,s=void 0===u?20:u;(function(e){return new y.default(function(t,n){if(e){var r={offset:e.offset||0,count:e.count||40,recpos:e.recpos||"5708",sku:e.skuId||"",c1:e.c1||"",c2:e.c2||"",c3:e.c3||""};Z.a.get({url:ie.pinlike,dataType:oe,data:r}).then(function(e){var a=e.body;e.header,a&&a.data&&a.data.length>0?t(a):(console.log("load pinlike error"),n())}).catch(function(e){var t=e.code,r=e.message;n(),a(46,t,"catch Error code:"+t+"message:"+r)})}else n()})})({recpos:r,offset:(c-1)*s,count:s}).then(function(e){var n=[];e.data.forEach(function(e){var t=e.url,a=e.img,r=e.name,o=e.icon,c=e.pinsource,u=e.pgprice,s=e.realprice,l=e.sku,f=e.memcount,p=e.memtotal,g=e.property,m=e.pps,v=e.promdescext;if(u&&a&&r){u=(1*u/100).toFixed(2);var b=function(e){var t=mn.find(function(t){return(parseInt(e.pinsource)&t.val)>=1});if(!t)return{type:"normal"};var n=t.type,a=t.name,r=t.url;return("yiyuan"===n||"new"===n)&&e.pgprice>100?{type:"normal"}:{type:n,name:a,url:r}}(e),y={url:t,skuId:l,img:h(a,355),name:r,price:u,intPrice:u.split(".")[0],floatPrice:u.split(".")[1].replace(/0+$/,""),orginPrice:s,needcount:f&&"0"!==f?f:"2",tuancount:p&&"0"!==p&&i(p),property:g,pps:m,icon:o,pinsource:c,pinsourceInfo:b,isPromoProperty:"1"===g,isZiying:(o&vn.ziying)>0,isJDLogistics:(o&vn.JDLogistics)>0,promote:d(v||"")[0]};n.push(y)}}),t(n)}).catch(function(){n()})})}function L(){return new y.default(function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!Array.isArray(e)||!e.length)return y.default.resolve({});var t={},n="//wqs.jd.com/j/="+e.map(function(e){var n="/data/ppms/js/ppms.pagev"+e+".json";return t[n]=e,n}).join(",");return new y.default(function(a,r){Z.a.get({url:n}).then(function(n){var r={};(n.body.files||[]).forEach(function(e){var n=t[e.filename];n&&(r[n]=e.content&&e.content.data||[])});var o=[];e.forEach(function(e){r[e]||(r[e]=[],o.push(e))}),a(r)},function(e){r(e)})})})([kn,En,Cn,xn,Nn]).then(function(t){var n={};for(var a in t)n=(0,c.default)(n,t[a]&&t[a][0]||{});e([n])}).catch(function(){e([{}])})})}n.r(t);var B=n(0),O=n(1),U=n(137),R=n(138),J=n(139),M=n(132),A=n(40);A.isXcx=!1;var F,W,q,H,G,X,Y=A,V=n(29),K=n.n(V),z={},$=n(30),Z=n.n($),Q=n(33),ee=n.n(Q).a,te=Y.JD.device.scene,ne="jdapp"==te,ae="jdm"==te||"mobile"==te,re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae&&(t.sceneval="2"),e=Y.JD.url.addUrlParam(e,t),ne?(e='openapp.jdmobile://virtual?params={"des":"m","category":"jump","url":"https:'+(e=e.replace(/^http(s)?:/,""))+'"}',n.mReport?(function(e){try{var t=e.eventId||"",n=new MPing.inputs.Click(t);n.event_param=e.eventParam||"",n.event_level=e.eventLevel||"",n.updateEventSeries();(new MPing).send(n)}catch(e){}}(mReport),setTimeout(function(){window.location.href=e},200)):window.location.href=e):setTimeout(function(){window.location.href=e},0)},oe=Y.isXcx?"":"jsonp",ie={tabSort:"https://wq.jd.com/mcoss/floorv2/tshow",adLink:"https://wq.jd.com/mcoss/focusbi/show_new",isNewUser:"https://wq.jd.com/userattribute/QueryIsNewUser",brandsale:"https://wqcoss.jd.com/mcoss/brandsale/show",pingouData:"https://wqcoss.jd.com/mcoss/pingou/show",smartData:"https://wq.jd.com/mcoss/smart/pagshow",tuanNum:"https://wq.jd.com/pingou_core/GetBatTuanNum",pinlike:"https://wq.jd.com/mcoss/pinlike/show",pingouFeed:"https://wq.jd.com/pingoufeed/GetItemList",queryFeedInfo:"https://wq.jd.com/shopgroup_api_feed/BatchQueryFeedInfo",queryUserSurveyInfo:"https://wq.jd.com/user/info/QueryUserSurveyInfo",searchHiddenWord:"https://wq.jd.com/mcoss/hiddenword/HiddenwordSearch",checkAppNewOrder:"https://wq.jd.com/pingou_api/CheckAppNewOrder",cpdAd:"https://x.jd.com/cpd"},ce={PRESENT:1,NEW:2,UNKNOW:3},ue=n(13),se=n.n(ue),le=n(140),fe=n(131),de=(n(21),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),pe=(W=F=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=E(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){a.props.onChange(e)},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),de(t,[{key:"handleItemClick",value:function(e){var t=e.currentTarget.dataset,n=t.href,a=t.clickurl;a?(Y.JD.send(a),setTimeout(function(){r(n)},200)):r(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.entries,a=void 0===n?[]:n,r=t.interval,o=void 0===r?3e3:r;if(!a.length)return null;var i=a.length>1;return B.b.createElement(le.a,{className:"banner__swiper","indicator-dots":!1,autoplay:i,circular:i,interval:o,onChange:this.handleChange},a.map(function(t){return B.b.createElement(le.b,{className:"banner__swiper-item",key:t.url},B.b.createElement(fe.a,{className:"banner__swiper-item-image",src:t.image,"data-clickurl":t.clickUrl,"data-ptag":Y.JD.url.getUrlParam("ptag",t.url),onClick:e.handleItemClick,"data-href":t.url}))}))}}]),t}(),F.defaultProps={entries:[],interval:3e3,onChange:function(){}},W),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ge=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.state={current:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),he(t,[{key:"componentWillMount",value:function(){var e=this;Y.JD.events.listen("bannerOnChange",function(t){e.setState({current:t})})}},{key:"render",value:function(){var e=this.props.entries,t=this.state.current;return B.b.createElement(M.a,{className:"banner__dots"},e.map(function(e,n){return B.b.createElement(M.a,{key:e.banner,className:"banner__dot banner__dot--"+(n==t?"cur":"")})}))}}]),t}(),me=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ve=(H=q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.bannerOnChange=function(e){Y.JD.events.trigger("bannerOnChange",e.detail.current)},n.state=n.updateMystate(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),me(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.updateMystate(e);this.setState(t)}},{key:"updateMystate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topBanner||[],n=(e.normalBanner,e.adBanner,e.totalNum,t.length?1:0);return{entries:e.data,interval:n?5e3:3e3,current:0}}},{key:"render",value:function(){var e=this.state.entries,t=void 0===e?[]:e;return t.length?B.b.createElement(M.a,{className:"banner"},B.b.createElement(pe,{entries:t,interval:this.props.interval,onChange:this.bannerOnChange}),t.length>1&&B.b.createElement(ge,{entries:t})):null}}]),t}(),q.propTypes={topBanner:se.a.array,normalBanner:se.a.array,adBanner:se.a.array,data:se.a.array,interval:se.a.number,totalNum:se.a.number,onChange:se.a.func},q.defaultProps={topBanner:[],normalBanner:[],adBanner:[],data:[],interval:3e3,totalNum:5,onChange:function(){}},H),be=n(133),ye=(n(19),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),_e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.headClick=function(e){var t=n.props,a=t.goBipinIndex,r=t.ptag;a&&a(null,{ptag:r})},n.state=n._getInitState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),ye(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"_getInitState",value:function(){var e=this,t={sessionName:"本场",countDown:{h:"00",m:"00",s:"00"}},n=this._getCurrentSession();return t.sessionName=n.name,t.countDown=this._getCountDown(n,n),this.interval=setInterval(function(){var t=e._getCurrentSession(),a=e._getCountDown(t,n);e.setState({countDown:a})},1e3),t}},{key:"_getCountDown",value:function(e,t){var n=new Date,a=void 0;if(e.name===t.name){var r=59-n.getSeconds(),o=59-n.getMinutes(),i=e.endHours-n.getHours();a={h:0<=i&&i<10?"0"+i:i,m:o<10?"0"+o:o,s:r<10?"0"+r:r}}else a={h:-1,m:"00",s:"00"};return a}},{key:"_getCurrentSession",value:function(){var e=(new Date).getHours();return 22<=e||e<=9?{name:"22点场",endHours:22<=e?33:9}:10<=e&&e<=15?{name:"10点场",endHours:15}:{name:"16点场",endHours:21}}},{key:"render",value:function(){var e=this.state,t=e.sessionName,n=e.countDown;return B.b.createElement(M.a,{className:"bipin__head",onClick:this.headClick,"data-ptag":this.props.ptag},B.b.createElement(M.a,{className:"bipin__head-title"},"今日",B.b.createElement(be.a,{className:"strong"},"必拼")),B.b.createElement(M.a,{className:"bipin__head-countdown"},B.b.createElement(M.a,{className:"desc"},t,"仅剩"),B.b.createElement(M.a,{className:"time"},n.h<0?"已结束":n.h+":"+n.m+":"+n.s)),B.b.createElement(M.a,{className:"bipin__head-more"},"更多",B.b.createElement(M.a,{className:"arrow"})))}}]),t}(),we=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();O.a.getEnv();var ke,Ee,Ce,xe,Ne=(X=G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.handleSlideChange=function(e){Y.JD.events.trigger("bipinOnChange",e.detail.current)},n.handleClick=function(e){var t=e.currentTarget&&e.currentTarget.dataset||{},a=t.href,r=n.props,o=r.goBipinIndex,i=r.ptag;o&&o(a,{ptag:i})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),we(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=void 0===n?[]:n,r=t.interval,o=void 0===r?3e3:r;if(!a.length)return null;var i=a.length>1;return B.b.createElement(le.a,{className:"bipin__swiper","indicator-dots":!1,circular:i,autoplay:i,interval:o,onChange:this.handleSlideChange},a.map(function(t,n){return B.b.createElement(le.b,{className:"bipin__swiper-item",key:n},t.map(function(t,a){return B.b.createElement(M.a,{className:"bipin__swiper-item-detail",key:t.skuId,"data-ptag":e.props.ptag,"data-skuid":t.skuId,"data-href":t.dataHref,onClick:e.handleClick},0==n&&0==a&&B.b.createElement(M.a,{className:"bipin__swiper-item-detail-tag"},"热销"),B.b.createElement(M.a,{className:"bipin__swiper-item-detail-imagecover"},B.b.createElement(fe.a,{className:"image",src:h(t.skuImg)})),B.b.createElement(M.a,{className:"bipin__swiper-item-detail-info"},B.b.createElement(M.a,{className:"bipin__swiper-item-detail-price"},t.needCount,"人拼",B.b.createElement(be.a,{className:"priceinfo"},"￥",B.b.createElement(be.a,{className:"int"},t.priceInt),".",t.priceFloat)),t.tuanCount&&B.b.createElement(M.a,{className:"bipin__swiper-item-detail-count"},"已有",t.tuanCount,"人拼")))}))}))}}]),t}(),G.defaultProps={list:[],interval:3e3},X),Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Se=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.state={current:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Pe(t,[{key:"componentWillMount",value:function(){var e=this;Y.JD.events.listen("bipinOnChange",function(t){e.setState({current:t})})}},{key:"render",value:function(){var e=this.props.list,t=this.state.current;return B.b.createElement(M.a,{className:"bipin__dots"},e.map(function(e,n){return B.b.createElement(M.a,{key:n,className:"bipin__dot bipin__dot--"+(n==t?"cur":"")})}))}}]),t}(),De=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Te=O.a.getEnv(),Ie=(Ee=ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.goBipinIndex=function(e,t){r(e||n._getBipinIndexUrl(),t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),De(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"_getBipinIndexUrl",value:function(){return"WEB"===Te?"https://wqs.jd.com/portal/wx/tuan/pingou_list.shtml":"/pages/pingou_second/bipin/index"}},{key:"render",value:function(){var e=this.props,t=e.list,n=void 0===t?[]:t,a=e.interval,r=void 0===a?3e3:a,o=e.ptagHead,i=e.ptagSku;return n.length?B.b.createElement(M.a,{className:"bipin"},B.b.createElement(_e,{ptag:o,goBipinIndex:this.goBipinIndex}),B.b.createElement(Ne,{interval:r,list:n,ptag:i,goBipinIndex:this.goBipinIndex}),n.length>1&&B.b.createElement(Se,{list:n})):null}}]),t}(),ke.propTypes={list:se.a.array,ptagHead:se.a.string,ptagSku:se.a.string,interval:se.a.number},ke.defaultProps={list:[],ptagHead:"138631.29.1",ptagSku:"138631.29.2",interval:3e3},Ee),je=n(134),Le=(n(97),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Be="PINGOU_FLOATING_CACHE",Oe=(xe=Ce=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.floatingClick=function(e){e.stopPropagation&&e.stopPropagation();var t=e.currentTarget.dataset.ptag;r(n.props.link,{ptag:t})},n.hideFloating=function(e){e.stopPropagation&&e.stopPropagation(),n.setState({show:!1}),Object(je.c)({key:Be,data:u()}),K.a.addPtag("138631.30.2")},n.state={show:n.props.image},n.checkCacheData(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Le(t,[{key:"componentWillReceiveProps",value:function(e){e&&e.image!=this.props.image&&this.checkCacheData()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"checkCacheData",value:function(){var e=this;Object(je.a)({key:Be}).then(function(t){var n=t.data;n?u()===n&&e.setState({show:!1}):e.setState({show:!0})}).catch(function(){e.setState({show:!0})})}},{key:"render",value:function(){var e=this.props.image,t=this.state.show;return e&&t?B.b.createElement(M.a,{className:"floating","data-ptag":"138631.30.1",onClick:this.floatingClick},B.b.createElement(M.a,{className:"floating__close",onClick:this.hideFloating}),B.b.createElement(fe.a,{className:"floating__image",src:h(e)})):null}}]),t}(),Ce.propTypes={image:se.a.string,link:se.a.string},Ce.defaultProps={image:"",link:""},xe),Ue=(n(99),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Re=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=C(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),a.handleJumpUrl=function(e){r(e)},C(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Ue(t,[{key:"render",value:function(){var e=this.props.bannerData,t=Y.JD.url.getUrlParam("ptag",e.link);return e.link&&e.imgUrl&&B.b.createElement(M.a,{className:"new-user-banner","data-ptag":t,"data-href":e.link,onClick:this.handleJumpUrl.bind(this,e.link)},B.b.createElement(fe.a,{className:"new-user-banner-img",src:h(e.imgUrl)}))}}]),t}();Re.defaultProps={bannerData:{}};var Je=Re,Me=(n(101),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Me(t,[{key:"render",value:function(){var e=this.props.serviceStandardList.map(function(e){return B.b.createElement(M.a,{className:"service-standard__list-item",key:e.serviceStandardIcon},B.b.createElement(fe.a,{className:"service-standard__list-item-img",src:h(e.serviceStandardIcon)}),B.b.createElement(be.a,{className:"service-standard__list-item-text"},e.serviceStandardText))});return B.b.createElement(M.a,{className:"service-standard"},B.b.createElement(M.a,{className:"service-standard__list"},e))}}]),t}();Ae.defaultProps={serviceStandardList:[]};var Fe=Ae,We=(n(103),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),qe=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=x(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),a.goDetail=function(e,t){r(Y.JD.url.addUrlParam(e,{ptag:t}))},x(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),We(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.iconList,a=t.iconBasicConfig,r=n.length>0&&10===n[0].length,o=a.textColor?"color:"+a.textColor+";":"",i=r&&a.iconTopCoverUrl?"background:url("+a.iconTopCoverUrl+")  0% 0% / cover #fff;":"",c=r&&a.iconBottomCoverUrl?"background:url("+a.iconBottomCoverUrl+")  0% 0% / cover #fff;":"",u=n.map(function(t,r){return B.b.createElement(M.a,{key:r,className:"icon-nav__list-item"},t&&t.map(function(t,o){return B.b.createElement(M.a,{className:"icon-nav__info",key:t.link,"data-ptag":t.rd,"data-href":t.link,onClick:e.goDetail.bind(e,t.link,t.rd,r,o)},B.b.createElement(M.a,{className:"icon-nav__info-detail"},(!a.iconTopCoverUrl||n.length>0&&5===n[0].length)&&B.b.createElement(fe.a,{className:"icon-nav__info-detail-img",src:h(t.iconUrl),lazyLoad:!0,mode:"aspectFill"}),t.dBubbleText&&B.b.createElement(M.a,{className:"icon-nav__info-detail-stamp icon-nav__info-detail_state_dynamic"},t.dBubbleText),!t.dBubbleText&&t.sBubbleText&&B.b.createElement(M.a,{className:"icon-nav__info-detail-stamp"},t.sBubbleText)),B.b.createElement(be.a,{className:"icon-nav__info-detail-name"},t.descText))}))});return n.length>0&&n[0].length>=5&&B.b.createElement(M.a,{className:"icon-nav"+(n.length>0&&10===n[0].length?"":" icon-nav--half"),style:c+o},B.b.createElement(M.a,{className:"icon-nav__list",style:i},u))}}]),t}();qe.defaultProps={iconList:[],iconBasicConfig:{}};var He,Ge,Xe,Ye,Ve,Ke,ze,$e,Ze,Qe,et,tt,nt=qe,at=n(135),rt=n(14),ot=n.n(rt),it=n(136),ct=(n(105),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),ut=(Ge=He=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=N(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),a.state={scrollLeft:0},a.state={scrollLeft:0},N(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.PureComponent),ct(t,[{key:"componentDidMount",value:function(){this.handleSrollLeft(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=n.tabData,r=n.curCategory,o=n.showSearchBar,i=n.fixedNav,c=n.showMCommonHeader,u=n.image;if(a&&r===e.curCategory&&o===e.showSearchBar&&i===e.fixedNav&&c===e.showMCommonHeader&&u===e.image)return!1}},{key:"componentWillReceiveProps",value:function(e){var t=e.curCategory;e.tabData,t!==this.props.curCategory&&this.handleSrollLeft(e)}},{key:"handleSrollLeft",value:function(e){var t=e.curCategory,n=e.tabData;if(n){var a=void 0;if(a=Y.isXcx?Object(at.a)().windowWidth:document.body.clientWidth,t){var r=n.activity.length,o=void 0;n.category.forEach(function(e,n){e.smartId===t&&(o=n)});var i=50*o+70*r-(a/2-83);this.setState({scrollLeft:i})}else this.setState({scrollLeft:0})}}},{key:"onItemClick",value:function(e){var t=e.currentTarget.dataset,n=t.categoryid,a=void 0===n?"":n,r=(t.index,t.ptag),o=t.pps;this.props.onTabNavItemClick&&this.props.onTabNavItemClick(a),(0,c.default)({},this.props,{curCategory:a}),K.a.addPtag(r),o&&b(o)}},{key:"goToUrl",value:function(e){r(e)}},{key:"getSubTabLink",value:function(e){var t=Y.isXcx?"/pages/pingou_second/index_sectab/index_sectab":"//wqs.jd.com/wxsq_project/wqvue/index_sectab/index_sectab.html";return Y.JD.url.addUrlParam(t,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabData,a=t.curCategory,r=t.fixedNav,o=t.showSearchBar,i=t.showMCommonHeader,c=this.state.scrollLeft;if(!n)return null;var u=n.chosen,s=n.activity,l=n.category,f=ot()({"tab-nav__item":!0,"tab-nav__item--on":!a}),d=void 0;d=a?l.find(function(e){return e.smartId===a}).subCategory:[];var p=void 0;p=r?o?49:0:i?93:49;var g=h(this.props.image);return B.b.createElement(M.a,{className:"tab-nav","data-left":c,"data-fixed":r,"data-showMCommonHeader":i},B.b.createElement(M.a,{className:"tab-nav__main head_nav_class",style:"top: "+p+"px;position: "+(this.props.fixedNav?"fixed":"absolute")+";"},g&&B.b.createElement(M.a,{className:"tab-nav__bg"},B.b.createElement(fe.a,{src:g,className:"tab-nav__bg-img"})),B.b.createElement(M.a,{className:"tab-nav__ctn"},B.b.createElement(M.a,{className:f,"data-ptag":u.ptag,onClick:this.onItemClick.bind(this)},B.b.createElement(be.a,null,u.name)),B.b.createElement(M.a,{className:"tab-nav__scroll-list"},B.b.createElement(it.a,{scrollX:!0,className:"tab-nav__scroll-view",scrollLeft:c},s.map(function(t,n){return B.b.createElement(M.a,{className:"tab-nav__item tab-nav__item--act",key:t.link},B.b.createElement(M.a,{className:"tab-nav__act","data-ptag":Y.JD.url.getUrlParam("ptag",t.link),"data-href":t.link,onClick:e.goToUrl.bind(e,t.link)},B.b.createElement(fe.a,{src:h(t.img),className:"tab-nav__act-img"})),t.bubbleText&&B.b.createElement(M.a,{className:"tab-nav__bubble"},t.bubbleText))}),l.map(function(t,n){var r=t.smartId===a,o=ot()({"tab-nav__item":!0,"tab-nav__item--on":r});return B.b.createElement(M.a,{className:o,key:t.smartId,"data-ptag":t.ptag+".1","data-ptagprefix":t.ptag,"data-categoryid":t.smartId,"data-pps":t.pps,"data-index":n,onClick:e.onItemClick.bind(e)},B.b.createElement(be.a,null,t.name),t.bubbleText&&!r&&B.b.createElement(M.a,{className:"tab-nav__bubble"},t.bubbleText))}))))),d&&d.length>0&&B.b.createElement(M.a,{className:"tab-nav__sub"},d.map(function(t,n){var a=e.getSubTabLink({cateId:t.smartId,pps:t.pps,tabName:t.name,ptag:t.ptag});return B.b.createElement(M.a,{key:a,"data-href":a,"data-ptag":t.ptag,className:"tab-nav__sub-item",onClick:e.goToUrl.bind(e,a)},B.b.createElement(fe.a,{src:h(t.img),className:"tab-nav__sub-img"}),B.b.createElement(be.a,{className:"tab-nav__sub-name"},t.name))})))}}]),t}(),He.propTypes={image:se.a.string,tabData:se.a.object,curCategory:se.a.string,showSearchBar:se.a.bool,fixedNav:se.a.bool,showMCommonHeader:se.a.bool,onTabNavItemClick:se.a.func},He.defaultProps={tabData:null,curCategory:"",showSearchBar:!0,fixedNav:!1,showMCommonHeader:!1,onTabNavItemClick:function(){}},Ge),st=(n(111),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),lt=(Ye=Xe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.state={show:n.props.image},n.checkCacheData(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),st(t,[{key:"componentWillReceiveProps",value:function(e){e&&e.image!=this.props.image&&this.checkCacheData()}},{key:"componentDidMount",value:function(){console.log("nps ptagExposure");var e=Y.JD.device.scene,t="weixin"===e?"NPS_WX_pgPDY_APP":"jdapp"===e?"NPS_APP_pgPDY_APP":"";K.a.addPtagExposure("138074.45.3",{nps_pg:t})}},{key:"checkCacheData",value:function(){var e=this;Object(je.a)({key:"PINGOU_NPS_FLOATING_CACHE"}).then(function(t){var n=t.data;n?u()===n&&e.setState({show:!1}):e.setState({show:!0})}).catch(function(){e.setState({show:!0})})}},{key:"jumpTo",value:function(e){e.stopPropagation&&e.stopPropagation();var t=this.props.answerUrl,n=Y.JD.device.scene,a="weixin"===n?"NPS_WX_pgPDY_APP":"jdapp"===n?"NPS_APP_pgPDY_APP":"";K.a.addPtag("138074.45.2",{nps_pg:a}),console.log(t),r(t)}},{key:"closeFloating",value:function(e){e.stopPropagation&&e.stopPropagation(),this.setState({show:!1}),K.a.addPtag("138074.45.1"),Object(je.c)({key:"PINGOU_NPS_FLOATING_CACHE",data:u()})}},{key:"render",value:function(){var e=this.props.image,t=this.state.show;return e&&t?B.b.createElement(M.a,{className:"nps-floating"},B.b.createElement(M.a,{className:"nps-floating__close",onClick:this.closeFloating.bind(this)}),B.b.createElement(fe.a,{className:"nps-floating__image",src:h(e),onClick:this.jumpTo.bind(this)})):null}}]),t}(),Xe.propTypes={image:se.a.string,answerUrl:se.a.string},Xe.defaultProps={image:"",answerUrl:""},Ye),ft=(n(28),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),dt=(Ke=Ve=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),ft(t,[{key:"goto",value:function(e){r(e.currentTarget.dataset.href)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.ptag;if(!t)return null;var a=this.props.promoPropertyConfig,r=a&&a.img,o=h(t.img),i=Y.JD.url.addUrlParam(t.url,{ptag:n,cover:o});return B.b.createElement(M.a,{className:"category-list__goods","data-property":t.property,"data-ptag":n,key:t.skuId,"data-href":i,onClick:this.goto.bind(this)},B.b.createElement(M.a,{className:"category-list__goods-img"},B.b.createElement(fe.a,{src:o})),B.b.createElement(M.a,{className:"category-list__goods-info"},B.b.createElement(M.a,{className:"category-list__goods-name"},t.isPromoProperty&&r&&B.b.createElement(fe.a,{className:"category-list__goods-promo-icon",src:h(r)}),t.isZiying&&B.b.createElement(M.a,{className:"category-list__goods-tag"},"自营"),!t.isZiying&&t.isJDLogistics&&B.b.createElement(fe.a,{className:"category-list__goods-logistics",src:h("//img10.360buyimg.com/jdphoto/jfs/t17173/65/2338433075/2662/c4af0771/5af16f69Nfeefdda0.png")}),t.name),B.b.createElement(M.a,{className:"category-list__goods-row"},B.b.createElement(M.a,{className:"category-list__goods-need"},t.needcount,"人拼"),B.b.createElement(M.a,{className:"category-list__goods-price"},"¥",B.b.createElement(be.a,{className:"category-list__goods-price-int"},t.intPrice),t.floatPrice&&B.b.createElement(be.a,null,".",t.floatPrice)),t.promote&&B.b.createElement(M.a,{className:"category-list__goods-point"},t.promote)),t.tuancount&&"0"!==t.tuancount&&B.b.createElement(M.a,{className:"category-list__goods-count"},"已拼",t.tuancount,"件")))}}]),t}(),Ve.propTypes={data:se.a.object,promoPropertyConfig:se.a.object,ptag:se.a.string},Ve.defaultProps={data:null,promoPropertyConfig:null,ptag:""},Ke),pt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ht=($e=ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),pt(t,[{key:"goto",value:function(e){r(e)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=Y.JD.url.getUrlParam("ptag",e.link);return B.b.createElement(M.a,{className:"category-list__act","data-ptag":t,"data-href":e.link,"data-locationid":e.locationId,onClick:this.goto.bind(this,e.link)},B.b.createElement(M.a,{className:"category-list__act-img"},B.b.createElement(fe.a,{src:h(e.image)})))}}]),t}(),ze.propTypes={data:se.a.object},ze.defaultProps={data:null},$e),gt=(n(114),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),gt(t,[{key:"render",value:function(){return B.b.createElement(M.a,{className:"wx_loading"},B.b.createElement(M.a,{className:"wx_loading_icon"}))}}]),t}(),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),bt=(Qe=Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),vt(t,[{key:"render",value:function(){var e=this.props,t=e.goodsData,n=e.actData,a=e.actConfig,r=e.ptag,o=e.isLoading,i=e.isEnd,u=e.isError,s=e.promoPropertyConfig,l=a.actPos,f=t.concat([]),d=0;t.length&&l&&l.forEach(function(e,t){var a=n[d];if(a){a=(0,c.default)({},a,{type:"act"});var r=1*e-1;f.splice(r,0,a),d++}});var p=ot()({"category-list":!0,"category-list--ended":i||u});return B.b.createElement(M.a,{className:p},B.b.createElement(M.a,{className:"category-list__wrapper"},f.map(function(e,t){var n=e.skuId||e.locationId;return B.b.createElement(M.a,{className:"category-list__item",key:n},"act"===e.type?B.b.createElement(ht,{data:e}):B.b.createElement(dt,{data:e,ptag:r,promoPropertyConfig:s}))})),u&&0===t.length&&B.b.createElement(M.a,{className:"category-list__tips"},"网络好像开小差了，暂无商品推荐"),o&&B.b.createElement(mt,null))}}]),t}(),Ze.propTypes={goodsData:se.a.array,actData:se.a.array,actConfig:se.a.object,ptag:se.a.string,isLoading:se.a.bool,isEnd:se.a.bool,isError:se.a.bool,promoPropertyConfig:se.a.object},Ze.defaultProps={goodsData:[],actData:[],actConfig:{},ptag:"",isLoading:!0,isEnd:!1,isError:!1,promoPropertyConfig:{}},Qe),yt=(n(116),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),_t=(tt=et=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.imageOnLoad=function(){n.interval=setInterval(function(){var e=n.state.countdown-1;0==e&&(n._setStorage(),clearInterval(n.interval)),n.setState({countdown:e})},1e3)},n.handleClick=function(e){e.stopPropagation&&e.stopPropagation();var t=e.currentTarget.dataset.ptag,a=n.props.link;n.hideCurtainImmediately(),t&&(a=Y.JD.url.addUrlParam(a,{ptag:t})),r(a)},n.hideCurtainWithAnimation=function(e){e&&e.stopPropagation&&e.stopPropagation(),K.a.addPtag("138631.32.2"),n.setState({countdown:0}),clearInterval(n.interval),n._setStorage(),setTimeout(function(){n.setState({show:!1})},1200)},n.state={show:!1,countdown:n.props.duration},n.checkCacheData(),Y.JD.events.listen("pingouIndexHideBigCurtain",function(){n.hideCurtainImmediately()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),yt(t,[{key:"componentWillReceiveProps",value:function(e){e.duration!=this.props.duration&&this.setState({countdown:e.duration})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"checkCacheData",value:function(){var e=this;Object(je.a)({key:"PINGOU_BIGCURTAIN_CACHE_KEY"}).then(function(t){var n=t.data;n?u()===n&&e.setState({show:!1}):e.setState({show:!0})}).catch(function(){e.setState({show:!0})})}},{key:"hideCurtainImmediately",value:function(){clearInterval(this.interval),this.state.show&&this.props.image&&this._setStorage(),this.setState({show:!1})}},{key:"_setStorage",value:function(){Object(je.c)({key:"PINGOU_BIGCURTAIN_CACHE_KEY",data:u()})}},{key:"render",value:function(){var e=this.state,t=e.show,n=e.countdown,a=this.props.image;return a&&t?B.b.createElement(M.a,{"data-ptag":"138631.32.1",className:"bigcurtain "+(0==n?"animate":""),onClick:this.handleClick},0!=n&&B.b.createElement(M.a,{className:"bigcurtain__countdown"},B.b.createElement(be.a,{className:"bigcurtain__countdown-timmer"},n,"秒"),B.b.createElement(M.a,{className:"bigcurtain__countdown-line"}),B.b.createElement(be.a,{className:"bigcurtain__countdown-close",onClick:this.hideCurtainWithAnimation},"关闭")),B.b.createElement(fe.a,{className:"bigcurtain__image",src:h(a),onLoad:this.imageOnLoad})):null}}]),t}(),et.propTypes={image:se.a.string,link:se.a.string,duration:se.a.number},et.defaultProps={image:"",link:"",duration:5},tt);n(118);var wt,kt,Et=function(e,t){return new y.default(function(n,a){e&&t?_({gids:e,pcs:t+":1",recpos:"4233"}).then(function(e){var t=e[0].locations[0].plans[0];if(t){var r=t.material,o=t.sUrl;n({image:Y.JD.performance.getScaleImg(r),link:o})}else a({msg:"no recCurtain data"})}).catch(function(e){a({msg:"load recCurtain data error"})}):a({msg:"ppms data expired"})})},Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),xt=295,Nt=388,Pt=(kt=wt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.imageOnLoad=function(e){var t=void 0,a=void 0;e.detail?(t=e.detail.width,a=e.detail.height):e.currentTarget&&(t=e.currentTarget.naturalWidth,a=e.currentTarget.naturalHeight),a/=2,(t/=2)>xt&&(a*=xt/t,t=xt),a>Nt&&(t*=Nt/a,a=Nt),n.setState({imageWidth:t,imageHeight:a}),setTimeout(function(){n.setState({showCurtain:!1}),n._setStorage()},1e3*n.props.duration)},n.handleClick=function(e){var t=e.currentTarget.dataset.ptag,a=n.state.link;n._setStorage(),r(a,{ptag:t})},n.hideCurtain=function(e){e.stopPropagation&&e.stopPropagation(),K.a.addPtag("138631.33.2"),n.setState({showCurtain:!1}),n._setStorage()},n.state={image:"",link:"",imageWidth:0,imageHeight:0,showCurtain:e.show},n.loadData(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Ct(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.groupId,a=t.locationId;n!==e.groupId&&a!==e.locationId&&this.loadData(e)}},{key:"componentWillUnmount",value:function(){}},{key:"loadData",value:function(e){var t=this;e.show?Object(je.b)("PINGOU_RECCURTAIN_CACHE_KEY")===u()?this.setState({showCurtain:!1}):this.state.image&&e.groupId==this.props.groupId&&e.locationId==this.props.locationId?this.setState({showCurtain:!0}):Et(e.groupId,e.locationId).then(function(e){t.setState({showCurtain:!0,image:e.image,link:e.link})}).catch(function(){t.setState({showCurtain:!1})}):this.state.showCurtain&&this.setState({showCurtain:!1})}},{key:"_setStorage",value:function(){Object(je.c)({key:"PINGOU_RECCURTAIN_CACHE_KEY",data:u()})}},{key:"render",value:function(){var e=this.state,t=e.showCurtain,n=e.imageWidth,a=e.imageHeight,r=e.image;if(!r||!t)return null;var o={"max-width":xt+"px","max-height":Nt+"px",width:n+"px",height:a+"px"};return B.b.createElement(M.a,{className:"recCurtain",onClick:this.hideCurtain},B.b.createElement(M.a,{className:"recCurtain__content"},B.b.createElement(fe.a,{className:"recCurtain__content-image",src:h(r),style:o,"data-ptag":"138631.33.1",onLoad:this.imageOnLoad,onClick:this.handleClick}),B.b.createElement(M.a,{className:"recCurtain__content-close"},B.b.createElement(M.a,{className:"line1"}),B.b.createElement(M.a,{className:"line2"}))))}}]),t}(),wt.propTypes={groupId:se.a.string,locationId:se.a.string,duration:se.a.number,show:se.a.bool},wt.defaultProps={groupId:"",locationId:"",duration:5,show:!1},kt),St=(n(120),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Dt=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=S(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),a.handleClick=function(e){r(e.currentTarget.dataset.href)},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),St(t,[{key:"render",value:function(){var e=this,t=this.props.saleBanner,n=t&&t[0]&&t[0].links||[],a=t&&t[0]&&t[0].imgUrl||"",r=n.length,o=n.map(function(t,n){var a=t.ptag,o=Y.JD.url.addUrlParam(t.link,{ptag:a}),i=ot()(P({"sale-banner__list-item":!0},"sale-banner__list-item--nth"+(n+1),r));return B.b.createElement(M.a,{className:i,key:a,"data-ptag":a,"data-href":o,onClick:e.handleClick})}),i=ot()(P({"sale-banner__list":!0},"sale-banner__list--col"+r,r));return a&&r>0&&B.b.createElement(M.a,{className:"sale-banner",style:"background-image:url("+h(a)+")"},B.b.createElement(M.a,{className:i},o))}}]),t}();Dt.defaultProps={saleBanner:[]};var Tt,It,jt,Lt,Bt,Ot,Ut,Rt,Jt,Mt,At,Ft,Wt,qt,Ht=Dt,Gt=(n(20),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Xt={bipin:"138631.35.1",factory:"138631.35.2",brand:"138631.35.3",yiyuan:"138631.35.4",ziying:"138631.35.5",tuan99:"138631.35.6",new:"138631.35.7",normal:"138631.35.8",feed:"138631.35.9"},Yt=(It=Tt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Gt(t,[{key:"getUrl",value:function(e,t){return Y.JD.addUrlParam(e,{ptag:t})}},{key:"goto",value:function(e){r(e)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=e.pinsourceInfo,n=void 0===t?{}:t,a=this.props.promoPropertyConfig,r=a&&a.img,o=ot()("pin-like__goods",function(e,t,n){return t in e?(0,v.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"pin-like__goods--"+n.type,n&&n.type)),i=Xt[n.type],c=h(e.img),u=Y.JD.url.addUrlParam(e.url,{ptag:i,cover:c}),s=n.url&&Y.JD.url.addUrlParam(n.url,{ptag:i});return B.b.createElement(M.a,{className:o,"data-ptag":i,"data-href":u,"data-skuId":e.skuId,"data-index":e.index,key:e.skuId,"data-pinsource":e.pinsource,"data-icon":e.icon,"data-isZiying":e.isZiying,"data-isJDLogistics":e.isJDLogistics},"new"===n.type&&B.b.createElement(M.a,{className:"pin-like__goods-stamp"},B.b.createElement(be.a,null,"新人专享")),B.b.createElement(M.a,{className:"pin-like__goods_wrapper",onClick:this.goto.bind(this,u)},B.b.createElement(M.a,{className:"pin-like__goods-img"},B.b.createElement(fe.a,{src:c})),B.b.createElement(M.a,{className:"pin-like__goods-info"},B.b.createElement(M.a,{className:"pin-like__goods-name"},e.isPromoProperty&&r&&B.b.createElement(fe.a,{className:"pin-like__goods-promo-icon",src:h(r)}),e.isZiying&&B.b.createElement(M.a,{className:"pin-like__goods-tag"},"自营"),!e.isZiying&&e.isJDLogistics&&B.b.createElement(fe.a,{className:"pin-like__goods-logistics",src:h("//img10.360buyimg.com/jdphoto/jfs/t17173/65/2338433075/2662/c4af0771/5af16f69Nfeefdda0.png")}),e.name),B.b.createElement(M.a,{className:"pin-like__goods-row"},"new"!==n.type&&B.b.createElement(M.a,{className:"pin-like__goods-need"},e.needcount,"人拼"),B.b.createElement(M.a,{className:"pin-like__goods-price"},"¥",B.b.createElement(be.a,{className:"pin-like__goods-price-int"},e.intPrice),e.floatPrice&&B.b.createElement(be.a,null,".",e.floatPrice)),"new"===n.type&&B.b.createElement(M.a,{className:"pin-like__goods-new-tag"},B.b.createElement(M.a,{className:"pin-like__goods-new-tag-icon"}),"新人价"),e.promote&&"new"!==n.type&&B.b.createElement(M.a,{className:"pin-like__goods-point"},e.promote)),e.tuancount&&"0"!==e.tuancount&&B.b.createElement(M.a,{className:"pin-like__goods-count"},"已拼",e.tuancount,"件"))),n&&n.url&&B.b.createElement(M.a,{className:"pin-like__goods-source","data-href":s,onClick:this.goto.bind(this,s)},n.icon&&B.b.createElement(fe.a,{className:"pin-like__goods-source-icon",src:h(n.icon)}),B.b.createElement(be.a,{className:"pin-like__goods-source-name"},n.name),B.b.createElement(M.a,{className:"pin-like__goods-source-arrow"})))}}]),t}(),Tt.propTypes={data:se.a.object,promoPropertyConfig:se.a.object},Tt.defaultProps={data:null,promoPropertyConfig:null},It),Vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Kt=(Lt=jt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Vt(t,[{key:"getUrl",value:function(e,t){return Y.JD.addUrlParam(e,{ptag:t})}},{key:"goto",value:function(e){r(e)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=Y.JD.url.getUrlParam("ptag",e.link);return B.b.createElement(M.a,{className:"pin-like__act","data-ptag":t,"data-href":e.link,"data-index":e.index,"data-locationid":e.locationId,onClick:this.goto.bind(this,e.link)},B.b.createElement(M.a,{className:"pin-like__act-img"},B.b.createElement(fe.a,{src:h(e.image)})))}}]),t}(),jt.propTypes={data:se.a.object},jt.defaultProps={data:null},Lt),zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),$t=(Ot=Bt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),zt(t,[{key:"getUrl",value:function(e,t){return Y.JD.addUrlParam(e,{ptag:t})}},{key:"goto",value:function(e){r(e)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=ot()("pin-like__feed",{"pin-like__feed--video":7===e.contentsubtype}),n=this.props.feedConfig,a=Y.JD.url.addUrlParam(e.url,{ptag:"138631.35.9"}),r=7===e.contentsubtype?n.videoText:n.shaidanText,o=!(!e.praiseNum||0==e.praiseNum);return B.b.createElement(M.a,{className:t,"data-ptag":"138631.35.9","data-href":a,"data-index":e.index,onClick:this.goto.bind(this,a)},B.b.createElement(M.a,{className:"pin-like__feed-img"},7===e.contentsubtype&&B.b.createElement(M.a,{className:"pin-like__feed-icon"}),B.b.createElement(fe.a,{src:h(e.img).replace(/\.webp$/,""),mode:"widthFix"})),B.b.createElement(M.a,{className:"pin-like__feed-info"},r&&B.b.createElement(M.a,{className:"pin-like__feed-tag"},r),B.b.createElement(M.a,{className:"pin-like__feed-tit"},e.title||e.summary||"推荐给你的省钱超值好物"),o&&B.b.createElement(M.a,{className:"pin-like__feed-row"},B.b.createElement(M.a,{className:"pin-like__feed-like"},e.praiseNum,"人浏览"),B.b.createElement(M.a,{className:"pin-like__feed-user"},B.b.createElement(fe.a,{src:h(e.headimgurl),className:"pin-like__feed-user-avatar"}),B.b.createElement(be.a,{className:"pin-like__feed-user-name"},e.shortNickname)))))}}]),t}(),Bt.propTypes={data:se.a.object,feedConfig:se.a.object},Bt.defaultProps={data:null,feedConfig:null},Ot),Zt=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),en=(Rt=Ut=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),Qt(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=n.goodsData,r=n.actData,o=n.feedData,i=n.isLoading,c=n.isEnd,u=n.isError;if(a.length===e.goodsData.length&&r.length===e.actData.length&&o.length===e.feedData.length&&i===e.isLoading&&c===e.isEnd&&u===e.isError)return!1}},{key:"getUrl",value:function(e,t){return Y.JD.addUrlParam(e,{ptag:t})}},{key:"goto",value:function(e){r(e)}},{key:"render",value:function(){var e=this.props,t=e.goodsData,n=e.actData,a=e.feedData,r=e.actConfig,o=e.mixConfig,i=e.isLoading,u=e.isError,s=e.isEnd,l=e.pinSourceConfig,f=e.feedConfig,d=e.promoPropertyConfig,p=t.map(function(e){var t=e.pinsourceInfo;return t&&t.type&&(t.icon=l[t.type]),Zt({},e,{type:"goods",id:e.skuId,pinsourceInfo:t})}),h=o.twoColsStartPos,g=o.twoColsInterval,m=0,v=[];0!==h&&0!==g?p.forEach(function(e,t){if((t+1-h)%g==0&&t+1>h){var n=a[m];n&&(n=(0,c.default)({},n,{type:"feed",id:e.shareid}),v.push(n),m++)}v.push(e)}):v=p;var b=r.actPos,y=0;v.length&&b&&b.forEach(function(e,t){var a=n[y];if(a){a=(0,c.default)({},a,{type:"act",id:a.locationId});var r=1*e-1;v.splice(r,0,a),y++}});var _=[],w=[];v.forEach(function(e,t){e.index=t+1,(t+1)%2?_.push(e):w.push(e)});var k=ot()({"pin-like":!0,"pin-like--ended":s||u});return B.b.createElement(M.a,{className:k},B.b.createElement(M.a,{className:"pin-like__tit"},B.b.createElement(M.a,{className:"pin-like__tit-logo"}),"大家都在拼"),v.length>0&&B.b.createElement(M.a,{className:"pin-like__list"},B.b.createElement(M.a,{className:"pin-like__col pin-like__col--left"},_.map(function(e){return B.b.createElement(M.a,{className:"pin-like__item",key:e.id,"data-id":e.id},"goods"===e.type&&B.b.createElement(Yt,{data:e,promoPropertyConfig:d}),"act"===e.type&&B.b.createElement(Kt,{data:e}),"feed"===e.type&&B.b.createElement($t,{data:e,feedConfig:f}))})),B.b.createElement(M.a,{className:"pin-like__col pin-like__col--right"},w.map(function(e){return B.b.createElement(M.a,{className:"pin-like__item",key:e.id,"data-id":e.id},"goods"===e.type&&B.b.createElement(Yt,{data:e,promoPropertyConfig:d}),"act"===e.type&&B.b.createElement(Kt,{data:e}),"feed"===e.type&&B.b.createElement($t,{data:e,feedConfig:f}))}))),u&&0===t.length&&B.b.createElement(M.a,{className:"pin-like__tips"},"网络好像开小差了，暂无商品推荐"),i&&B.b.createElement(mt,null))}}]),t}(),Ut.propTypes={isLoading:se.a.bool,isEnd:se.a.bool,isError:se.a.bool,goodsData:se.a.array,actData:se.a.array,feedData:se.a.array,feedConfig:se.a.object,actConfig:se.a.object,pinSourceConfig:se.a.object,mixConfig:se.a.object,promoPropertyConfig:se.a.object},Ut.defaultProps={isLoading:!0,isEnd:!1,isError:!1,goodsData:[],actData:[],feedData:[],feedConfig:{},actConfig:{},pinSourceConfig:{},mixConfig:{twoColsStartPos:0,twoColsInterval:0},promoPropertyConfig:{}},Rt),tn=(n(123),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),nn=(Mt=Jt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.state={isUnfolded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),tn(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.isUnfolded,a=this.props.navList;if(n===t.isUnfolded&&a.length===e.navList.length)return!1}},{key:"handleToggle",value:function(){var e=this.state.isUnfolded;this.setState({isUnfolded:!e}),K.a.addPtag("138074.43.1")}},{key:"handleNavItemClick",value:function(e){r(e)}},{key:"render",value:function(){var e=this,t=this.state.isUnfolded,n=this.props.navList,a=ot()({"quick-nav":!0,"quick-nav--unfold":t});return B.b.createElement(M.a,{className:a},B.b.createElement(M.a,{className:"quick-nav__toggle",onClick:this.handleToggle.bind(this)},B.b.createElement(M.a,{className:"quick-nav__toggle-arrow"}),B.b.createElement(be.a,{className:"quick-nav__toggle-text"},t?"收起":"快速导航")),B.b.createElement(M.a,{className:"quick-nav__list"},n.map(function(t){return B.b.createElement(M.a,{className:"quick-nav__item","data-key":t.text,"data-href":t.url,onClick:e.handleNavItemClick.bind(e,t.url)},B.b.createElement(fe.a,{className:"quick-nav__icon",src:h(t.icon)}),B.b.createElement(be.a,{className:"quick-nav__name"},t.text))})))}}]),t}(),Jt.propTypes={navList:se.a.array},Jt.defaultProps={navList:[]},Mt),an=(n(125),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),rn=(Ft=At=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.state={countdown:{hour:"00",minute:"00",second:"00",isEnd:!1}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),an(t,[{key:"componentDidMount",value:function(){var e=this.props.data;e.countdownEndTime,e.countdownText,this.countdown()}},{key:"countdown",value:function(){var e=this,t=this.props.data.countdownEndTime,n=Date.parse(t)-Date.now();n<=0?this.setState({countdown:{isEnd:!0}}):this.timer=setInterval(function(){if(n>1e3){n-=1e3;var t=Math.floor(n/1e3/3600),a=Math.floor(n/1e3/60%60),r=Math.floor(n/1e3%60);e.setState({countdown:{hour:t<10?"0"+t:t,minute:a<10?"0"+a:a,second:r<10?"0"+r:r}})}else e.setState({countdown:{hour:"00",minute:"00",second:"00"}}),clearInterval(e.timer)},1e3)}},{key:"handleClick",value:function(e){var t=e.currentTarget.dataset,n=t.href,a=t.ptag;console.log(n),r(n,{ptag:a})}},{key:"render",value:function(){var e=this.props.data;if(!e.image)return null;e.countdownEndTime&&e.countdownText;var t=this.state.countdown,n=(t.hour,t.minute,t.second,t.isEnd);return B.b.createElement(M.a,{className:"big-promo"},B.b.createElement(fe.a,{className:"big-promo__img",src:h(e.image),mode:"widthFix"}),B.b.createElement(M.a,{className:"big-promo__wrapper"},B.b.createElement(M.a,{className:"big-promo__entry"},B.b.createElement(M.a,{className:"big-promo__entry-item","data-ptag":"138631.37.1","data-href":e.leftLink,onClick:this.handleClick.bind(this)}),B.b.createElement(M.a,{className:"big-promo__entry-item big-promo__entry-item--middle","data-ptag":"138631.37.2","data-href":e.middleLink,onClick:this.handleClick.bind(this)}),B.b.createElement(M.a,{className:"big-promo__entry-item","data-ptag":"138631.37.3","data-href":e.rightLink,onClick:this.handleClick.bind(this)})),B.b.createElement(M.a,{className:"big-promo__countdown","data-ptag":"138631.37.4","data-href":e.countdownLink||e.middleLink,onClick:this.handleClick.bind(this)},B.b.createElement(M.a,{className:"big-promo__countdown-text"},e.countdownText),n?B.b.createElement(M.a,{className:"big-promo__countdown-end"},"已结束"):B.b.createElement(M.a,{className:"big-promo__countdown-time"},B.b.createElement(M.a,{className:"big-promo__countdown-time-item"},t.hour),B.b.createElement(M.a,{className:"big-promo__countdown-time-item"},t.minute),B.b.createElement(M.a,{className:"big-promo__countdown-time-item"},t.second)))))}}]),t}(),At.propTypes={data:se.a.object,countdow:se.a.object},At.defaultProps={data:{}},Ft),on=(n(127),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),cn=(qt=Wt=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=D(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),a.state={show:!0},D(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),on(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.data,a=n.image,r=n.link;if(this.state.show===t.show&&a===e.data.image&&r===e.data.link)return!1}},{key:"componentDidMount",value:function(){var e=this;console.log("componentDidMount"),setTimeout(function(){e.close()},5e3),Object(je.c)({key:"PINGOU_NEW_GIFT_CACHE",data:u()})}},{key:"goto",value:function(e){r(e.currentTarget.dataset.href)}},{key:"close",value:function(){console.log("close"),this.setState({show:!1})}},{key:"handleCloseClick",value:function(e){e.stopPropagation(),this.close(),K.a.addPtag("138631.31.1")}},{key:"render",value:function(){var e=this.props.data,t=this.state.show;if(!(e&&e.image&&e.link&&t))return null;var n=e.image,a=e.link,r=Y.JD.url.addUrlParam(a,{ptag:"138631.31.2"});return B.b.createElement(M.a,{className:"new-gift",onClick:this.close.bind(this)},B.b.createElement(M.a,{className:"new-gift__ctn"},B.b.createElement(fe.a,{className:"new-gift__img",src:h(n),"data-href":r,onClick:this.goto.bind(this)}),B.b.createElement(M.a,{className:"new-gift__close",onClick:this.handleCloseClick.bind(this)})))}}]),t}(),Wt.propTypes={data:se.a.object},Wt.defaultProps={data:{}},qt);n(129);var un=function(e){var t=e&&e.length>0&&e[0];if(t){var n=t.chosen,a=t.activity,r=t.category,o=function(e){return l(e,1).map(function(e){return{name:e.name,ptag:e.ptag}})}(n),i=function(e){return l(e,99).map(function(e){var t=e.name,n=e.link,a=e.img,r=e.bubbleConfig,o=void 0===r?[]:r;return{name:t,link:n,img:a,bubbleText:(o=l(o,1)[0])&&o.text&&o.text.substring(0,3)}})}(a);return T(r).then(function(e){return{chosen:o[0],activity:i,category:e}})}},sn=function(e){return new y.default(function(t,n){if(e=l(e)[0]){var r=e,o=r.groupId,i=r.interval,c=r.topId,u=r.normalId,s=r.totalNo,f=r.adId,d=s-1<=0?1:s-1,p="qq"===Y.JD.device.scene,g=[],m=function(e){return function(e){return new y.default(function(t,n){if(e){var r=new Date;if(!Y.isXcx){var o=Y.JD.url.getUrlParam("debugTime");r=o?new Date(decodeURIComponent(o)):r}r=Math.floor(r.getTime()/1e3),e.pretime=r,Z.a.get({url:ie.adLink,dataType:oe,data:e}).then(function(e){var r=e.body;if(0==r.errCode){var o={},i=r.list;if(i&&i.length){var c=i[0].locations;c&&c.forEach(function(e){var t=e.locationid,n=e.plans,a=void 0===n?[]:n;o[t]=a})}t(o),a(18,0,"success")}else n(),a(18,r.errCode,"fail: "+r.errCode)}).catch(function(e){var t=e.code,r=e.message;n(),a(18,t,"catch Error code:"+t+"message:"+r)})}else n()})}(e).then(function(e){return e}).catch(function(){})}({gids:o,pcs:c?c+":1,"+u+":"+d:u+":"+s,recpos:"4229"});if(g.push(m),p&&f){var v=function(e){return function(e){return new y.default(function(t,n){if(e){var a=Y.JD.device.scene;"jdm"!==a&&"mobile"!==a||(a="m");var r={spread_type:"1",ad_type:"8",template:"0",mobile_type:{m:"1",jdapp:"2",weixin:"3",qq:"4"}[a],app_ad_ids:e+":1",pin:Y.JD.cookie.get("pin")||""};Z.a.get({url:ie.cpdAd,dataType:oe,data:r}).then(function(e){var n=e.body;t(n)}).catch(function(){n()})}})}(e).then(function(e){return e}).catch(function(){})}(f);g.push(v)}y.default.all(g).then(function(e){var n=e[0],a=e[1]&&e[1][f]&&e[1][f][0],r=[],o=c&&n&&n[c]&&n[c][0],s=c&&n&&n[u];if(o&&r.push({id:o.planid,url:o.sUrl,image:h(o.material,690)}),s&&s.length&&s.forEach(function(e){r.push({id:e.planid,url:e.sUrl,image:h(e.material,690)})}),a){var l={id:f,type:"cpdAd",url:Y.JD.url.addUrlParam(a.target_url,{ptag:"138631.25.10"}),image:h(a.image_url,690).replace("!","!cc_690x200!"),clickUrl:a.click_url,exposalUrl:a.exposal_url};r.splice(1,0,l),Y.JD.send(a.exposal_url)}var d=r.length;t({data:r,interval:1e3*i,totalNum:d})}).catch(function(e){n(e)})}else n({msg:"banner config expired"})})},ln=function(e,t,n){return new y.default(function(r,o){(e=l(e)[0])&&e.activityId?function(e){return new y.default(function(t,n){if(e&&e.activeId){var r={id:e.activeId,offset:(e.pi-1)*e.pc||0,count:e.pc||20,cgid:e.cgid||"",unshowcgid:e.unshowcgid||"",recpos:e.recpos};if(e.topcateid&&(0,c.default)(r,{topcateid:e.topcateid}),e.topcount&&(0,c.default)(r,{topcount:e.topcount}),e.topskuid&&(0,c.default)(r,{topskuid:e.topskuid}),e.refsku&&(0,c.default)(r,{refsku:e.refsku}),e.unShowSkus&&e.unShowSkus.length>0){var o=e.unShowSkus.split(",");o&&o.length>=80&&(o=o.slice(0,80),e.unShowSkus=o.join(",")),(0,c.default)(r,{unShowSkus:e.unShowSkus})}e.pretime&&!isNaN(e.pretime)&&(0,c.default)(r,{pretime:parseInt(e.pretime/1e3)}),Z.a.get({url:ie.pingouData,data:r,dataType:oe}).then(function(r){var o=r.body;if("0"==o.errcode||"2002"==o.errcode||"4002"==o.errcode?a(24,0,"success"):a(24,o.errcode,"errCode:"+o.errcode+"activeId:"+e.activeId),o&&o.data&&o.data.length>0){var u=[];(o.data[0].list||[]).forEach(function(e){if(e.dwRefPrice-e.dwRealTimePrice>0){var t=[];try{var n=e.sCopyWriting&&e.sCopyWriting.trim();n&&t.push(n);var a=e.sTag&&e.sTag.trim();a&&t.push(a)}catch(e){ee.info(e)}var r={skuUrl:e.sUrl,skuImg:Y.JD.performance.getScaleImg(e.sPicturesUrl||e.sBackUpPictures[0]),skuName:e.sProductName,skuPrice:e.dwRealTimePrice,skuPcPrice:e.dwRefPrice,skuId:e.ddwSkuId,cornerMark:e.sTag,desc:t,pps:Y.JD.url.getUrlParam("pps",e.sUrl),needCount:e.dwPintuanNeed&&"0"!==e.dwPintuanNeed?e.dwPintuanNeed:"2",tuanCount:e.dwPintuanCount&&"0"!==e.dwPintuanCount?i(e.dwPintuanCount):"",priceInt:e.dwRealTimePrice.split(".")[0],priceFloat:e.dwRealTimePrice.split(".")[1]};r=(0,c.default)(e,r),u.push(r)}}),o.data[0].list=u,t(o)}else"2002"==o.errcode||"4002"==o.errcode?t(o):n()}).catch(function(e){var t=e.code,r=e.message;n(),a(24,t,"catch Error code:"+t+"message:"+r)})}else n()})}({activeId:e.activityId,pi:1,pc:30,topskuid:n,recpos:"5002"}).then(function(e){var n=[],a=[];(e.data&&e.data[0].list).forEach(function(e){e&&n.length<15&&(e.ptag=t,e.dataHref=function(e,t,n){var a=Y.JD.url.addUrlParam,r="https://wqs.jd.com/portal/wx/tuan/pingou_list.shtml",o="/pages/pingou_second/bipin/index",i=(new Date).getTime();return e&&(r=a(r,{sku:e,pps:t,ptag:n,time:i}),o=a(o,{topsku:e,pps:t,time:i,ptag:n})),r}(e.skuId,e.pps,e.ptag),n.push(e),a.push(e.skuId))});var o=[],i=[];n.forEach(function(e,t){o.push(e),(t+1)%3==0&&(i.push(o),o=[])}),r({list:i,skuIds:a})}).catch(function(){o()}):o({msg:"ppms config expired"})})},fn=function(e){return new y.default(function(t,n){var a=(e=l(e)[0])||{},r=a.groupId,o=a.locationId;r&&o?_({gids:r,pcs:o+":1",recpos:"4234"}).then(function(e){var n=e[0].locations[0].plans[0],a=n.material,r=n.sUrl;t({image:a,link:r})}).catch(function(){n({msg:"load floating data error"})}):n({msg:"ppms data expired"})})},dn=function(e){return new y.default(function(t,n){var a=(e=l(e)[0])||{},r=a.groupId,o=a.locationId,i=a.duration;r&&o?_({gids:r,pcs:o+":1",recpos:"4231"}).then(function(e){var n=e[0].locations[0].plans[0],a=n.material,r=n.sUrl;t({image:a,link:r,duration:+i>100?99:+i})}).catch(function(){n({msg:"load big curtain data error"})}):n({msg:"ppms data expired"})})},pn={getGoodsData:function(e){var t=e.id,n=e.pi,r=void 0===n?1:n,o=e.pc,c=void 0===o?10:o,u=e.unShowSkus;return function(e){return new y.default(function(t,n){if(e&&e.activeId){var r={id:e.activeId,offset:e.offset||0,count:e.count||20,pagetype:"1"};Z.a.get({url:ie.smartData,dataType:oe,data:r}).then(function(r){var o=r.body;"0"==o.errcode?(a(27,0,"success"),t(o)):(n(o),a(27,1,"errCode:"+o.errcode+"activeId:"+e.activeId))}).catch(function(e){var t=e.code,r=e.message;n(),a(27,1,"catch Error code:"+t+"message:"+r)})}else n()})}({activeId:t,offset:(r-1)*c,count:c,unshowskus:u}).then(function(e){var n=[];return e.data[0].list.forEach(function(e){var t=e.ispingou,a=e.url,r=e.imgbase,o=e.itemtype,c=e.fullname,u=e.price,s=e.refprice,l=e.skuid,f=e.needcount,p=e.tuancount,g=e.property,m=e.pps,v=e.promdescext;if(!("1"!==t||e.price-e.refprice>0)&&u&&c&&r){var b={url:a,skuId:l,img:h(r,355),name:c,price:u,intPrice:u.split(".")[0],floatPrice:u.split(".")[1].replace(/0+$/,""),orginPrice:s,needcount:f&&"0"!==f?f:"2",tuancount:p&&"0"!==p&&i(p),property:g,isPromoProperty:(16384&g)>0,isZiying:"1"===o,isJDLogistics:(65536&g)>0,pps:m,promote:(131072&g)>0?"新人专享":d(v||"")[0]};n.push(b)}}),{goodsData:n,id:t,pi:r}})},getActData:function(e){return new y.default(function(t,n){var a=e.groupId,r=e.locationIds;a&&r||n();var o=r.map(function(e){return e+":1"}).join(",");_({gids:a,pcs:o,recpos:"4236"}).then(function(e){var n=function(e,t,n){if(n&&n.length&&n[0]){var a=n=n[0],r=a.groupid,o=a.locations;if(r===e&&o&&o.length){var i={};o.forEach(function(e){var t=e.locationid,n=e.plans;if(n&&n.length){var a=n[0],r=a.material,o=a.sUrl;i[t]={locationId:t,image:r,link:o}}});var c=[];return t.forEach(function(e){i[e]&&c.push(i[e])}),c}}}(a,r,e);t(n)}).catch(function(){n()})})}},hn="138631.27.",gn=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mn=[{type:"new",val:8},{type:"bipin",val:1,name:"今日必拼",url:Y.isXcx?"/pages/pingou_second/bipin/index":"//wqs.jd.com/portal/wx/tuan/pingou_list.shtml"},{type:"factory",val:4,name:"厂直优品",url:Y.isXcx?"/pages/pingou_second/factory/index/index":"//wqs.jd.com/pingou/factory/index.shtml"},{type:"brand",val:64,name:"名品特卖",url:Y.isXcx?"/pages/pingou_second/brand/index":"//wqs.jd.com/portal/wx/tuan/pinggou_pinpaituanV2.shtml"},{type:"yiyuan",val:16,name:"邀新1元拼",url:"//wqs.jd.com/event/promote/laoyaoxin/index.shtml"},{type:"ziying",val:32,name:"自营优选",url:"//wqs.jd.com/event/promote/ziyinyoupin/index.shtml"},{type:"tuan99",val:2,name:"9.9元拼"}],vn={ziying:1,JDLogistics:10},bn={getGoodsData:function(e){return function(e,t,n,a){return n=n||3,a=a||0,new y.default(function(r,o){!function i(){e(t).then(r).catch(function(){0===n?o():(console.log("========> retry get pinlike goods"),setTimeout(function(){n--,i()},a))})}()})}(j,e,3,100)},getActData:function(e){return new y.default(function(t,n){var a=e.groupId,r=e.locationIds;a&&r||n();var o=r.map(function(e){return e+":1"}).join(",");_({gids:a,pcs:o}).then(function(e){var n=function(e,t,n){if(n&&n.length&&n[0]){var a=n=n[0],r=a.groupid,o=a.locations;if(r===e&&o&&o.length){var i={};o.forEach(function(e){var t=e.locationid,n=e.plans;if(n&&n.length){var a=n[0],r=a.material,o=a.sUrl;i[t]={locationId:t,image:r,link:o}}});var c=[];return t.forEach(function(e){i[e]&&c.push(i[e])}),c}}}(a,r,e);t(n)}).catch(function(){n()})})},getFeedData:function(e){return new y.default(function(t,n){(function(e){return new y.default(function(t,n){e?(e.source="pg_index",Z.a.get({url:ie.pingouFeed,dataType:oe,data:e}).then(function(e){var a=e.body;0===a.ret?t(a):n(a)}).catch(function(e){e.code,e.message,n()})):n()})})({filter:e.filter,pageno:e.pi,pagesize:e.pc}).then(function(e){var n=e.data.itemlist.map(function(e){return e.shareid}),a=[];e.data.itemlist.forEach(function(e){if(e.sharepic&&e.shareid){var t=gn({},e,{img:h(e.sharepic.split("|")[0]).replace(/\.webp$/,""),shortNickname:e.nickname.replace(/^(.{1})(.+)(.{1})$/,"$1*$3"),url:7===e.contentsubtype?"//wqs.jd.com/video/detail.shtml?shareid="+e.shareid:"//wqs.jd.com/xcxgwq/detail.html?shareid="+e.shareid});a.push(t)}}),function(e){return new y.default(function(t,n){e?Z.a.get({url:ie.queryFeedInfo,dataType:oe,data:e}).then(function(e){var a=e.body;0===a.iRet?t(a):n(a)}).catch(function(e){e.code,e.message,console.log("queryFeedInfo error"),n()}):n()})}({shareids:n.join(",")}).then(function(e){var n={};e.feeds.forEach(function(e){n[e.shareid]=e.praisenum}),a=a.map(function(e){return gn({},e,{praiseNum:n[e.shareid]&&0!=n[e.shareid]?i(n[e.shareid]):""})}),t(a)}).catch(function(){t(a)})}).catch(function(){n()})})}},yn=Y.JD.device.scene,_n={jdpingou:"36030",wxapp:"36032",qq:"36034",default:"36036"},wn={jdpingou:"36038",wxapp:"36040",default:"36042"},kn="36044",En=_n[yn]||_n.default,Cn=wn[yn]||wn.default,xn="36160",Nn="36162",Pn={getUserSurvey:function(){var e={weixin:{source:"wx",channel:"wx",type:"20"},jdapp:{source:"app",channel:"app",type:"19",sceneval:"2"}},t=Y.JD.device.scene;return new y.default(function(n,a){(function(e){return new y.default(function(t,n){e?Z.a.get({url:ie.queryUserSurveyInfo,dataType:oe,data:e}).then(function(e){var n=e.body;t(n)}).catch(function(e){e.code,e.message,n()}):n()})})(e[t]).then(function(e){var t=e.data;t.surveyInfo&&t.surveyInfo.answerUrl?n(t.surveyInfo):a()}).catch(function(){a()})})}},Sn={getHiddenWords:function(){return new y.default(function(e,t){(function(e){var t=e.projectId,n=e.total;return new y.default(function(e,a){Z.a.get({url:ie.searchHiddenWord,dataType:oe,data:{projectid:t,total:n}}).then(function(t){var n=t.body;0==n.errCode?e(n):a({code:n.errCode,message:n.msg})}).catch(function(e){console.log(e),a(e)})})})({projectId:"201",total:10}).then(function(n){n&&n.data&&n.data.length?e(n.data):t()}).catch(function(){t()})})}},Dn={getNewGiftData:function(e){return new y.default(function(t,n){var a=e&&l(e,1)[0],r=a.groupId,o=a.locationId,i=Object(je.b)("PINGOU_NEW_GIFT_CACHE");a&&u()!==i&&r&&o||n(),k().then(function(e){var a=e.hasPin,i=e.isLogin,c=e.isNewUser;(1===a||1===i)&&1===c||0===a&&0===i?_({gids:r,pcs:o+":1"}).then(function(e){var n=e[0].locations[0].plans[0],a=n.material,r=n.sUrl;t({image:a,link:r})}).catch(function(){n()}):n()}).catch(function(){n()})})}};n.d(t,"default",function(){return Mn});var Tn=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},In=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,v.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),jn=O.a.getEnv(),Ln=0,Bn=!1,On=void 0,Un={tabNav:!1,banner:!1,iconNav:!1,bipin:!1},Rn=void 0,Jn=0,Mn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.config={navigationBarTitleText:"京东拼购",onReachBottomDistance:1e3},n.state={isInitedChosen:!1,fscreenLoaded:!1,headerBgImage:"",curCategory:"",showSearchBar:!0,fixedNav:!!Y.isXcx,showMCommonHeader:!1,tabData:null,searchHiddenWords:[],categoryGoodsPtag:"",categoryActConfig:{},categoryTabData:{pi:1,pc:20,goodsData:[],actData:[],categoryId:"",isEnd:!1,loadTotal:480,loadNum:0},pinLikeIsError:!1,categoryIsError:!1,pinLikeIsLoading:!1,categoryIsLoading:!1,pinLikeData:{pi:1,pc:20,goodsData:[],actData:[],feedData:[],loadTotal:480,loadNum:0,isEnd:!1,actConfig:{},feedPi:1,feedPc:5,feedFilter:0,mixConfig:{twoColsStartPos:0,twoColsInterval:0}},searchAct:{},serviceStandardList:[],iconConfig:{},newBannerData:{},bannerData:{topBanner:[],normalBanner:[],totalNum:5,interval:3e3},bipinData:{list:[],skuIds:[],ptagHead:"138631.29.1",ptagSku:"138631.29.2",interval:3e3},floatingData:{image:"",link:""},bigcurtainData:{image:"",link:"",duration:5},recCurtainConfig:{groupId:"",locationId:"",duration:5,show:!1},saleBanner:[],showGoTop:!1,npsFloatingConfig:{show:!1,image:"",answerUrl:""},quickNavConfig:[],bigPromoConfig:null,newGiftData:null,promoPropertyConfig:null},n.goBackTop=function(){n.setState({showGoTop:!1}),Y.isXcx?Object(U.a)({scrollTop:0,duration:0,lazy:!0}):window&&window.scrollTo(0,0)},n.hideBigCurtain=function(){Y.JD.events.trigger("pingouIndexHideBigCurtain")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,O.a.Component),In(t,[{key:"onShareAppMessage",value:function(){var e=this.shareConfig||{};return K.a.addPtag("138631.37.1"),{title:e.title||"京东拼购，购品质省更多，每日海量优质商品等你来",path:"/pages/pingou/index/index?from=wxshare&ptag=17053.60.1",imageUrl:e.img?e.img.replace(/^((https||http):?)\/\//,"https://"):"",success:function(){}}}},{key:"componentWillMount",value:function(){var e=this;if(Un={tabNav:!1,banner:!1,iconNav:!1,bipin:!1},Ln=0,Bn=!1,Jn=0,jn===O.a.ENV_TYPE.WEB){var t=function(){var e=window.pageYOffset||document.body.scrollTop,t=this.state,a=t.curCategory,r=t.categoryGoodsPtag,i=t.categoryActConfig,c=t.tabData,u=t.pinLikeData,s=t.categoryTabData,l=(0,o.default)({curCategory:a,categoryGoodsPtag:r,categoryActConfig:i,tabData:c,pinLikeData:u,categoryTabData:s,scrollTop:e});sessionStorage.setItem(n,l)};this.speedReport(3);var n="history_pingou_index";window.addEventListener("pagehide",t.bind(this)),window.addEventListener("unload",t.bind(this));var a=sessionStorage.getItem(n),r=!Y.JD.url.getUrlParam("cacheDisabled");if(a&&r){(a=JSON.parse(a)).curCategory||(Jn=a.scrollTop);var i=a.scrollTop||0,c=this.state.showMCommonHeader?93:44,u=i>c,s=i>c;this.setState(Tn({},a,{fixedNav:u,showSearchBar:s}),function(){a.curCategory&&window.setTimeout(function(){var e=a.scrollTop;e&&window.scrollTo(0,e)},200)})}}else jn===O.a.ENV_TYPE.WEAPP&&(Rn=new z(853)).mark(2);L().then(function(t){jn===O.a.ENV_TYPE.WEB?e.speedReport(4):jn===O.a.ENV_TYPE.WEAPP&&Rn.mark(4),console.log("=======> get PPMS");var n=t[0];console.log(n),On=n,jn===O.a.ENV_TYPE.WEAPP&&e.initSearchBar(),e.initShare(n.indexShareConfig,n.indexWxappShareConfig),e.initHeaderBgImage(n.headerBgImage),e.initTabNav(n.tab),e.loadFocusbiData(n),e.initFloating(n.floating),e.initNpsFloating(n.npsFloating),e.initPromoProperty(n.promoPropertyConfig)})}},{key:"componentDidMount",value:function(){var e=this;this._handleScroll=m(this.handleScroll,300,500),Y.isXcx?Rn.mark(3):window.addEventListener("scroll",this._handleScroll.bind(this)),Y.JD.events.listen("fscreenLoaded",function(){Y.JD.events.remove("fscreenLoaded"),jn===O.a.ENV_TYPE.WEB?e.speedReport(6):jn===O.a.ENV_TYPE.WEAPP&&Rn.mark(5).report(),e.setState({fscreenLoaded:!0},function(){0===e.state.pinLikeData.goodsData.length?e.loadPinLikeData():Y.isXcx||setTimeout(function(){Jn&&window.scrollTo(0,Jn)},200)})}),Y.isXcx||Y.JD.events.listen("mCommonHeaderHandler",function(t){var n=t.show;e.setState({showMCommonHeader:n}),e.state.fixedNav||(document.querySelector("#search_block").style.top=n?"44px":"0px")})}},{key:"componentDidShow",value:function(){this._offReachBottom=Object(R.a)({callback:this.onReachBottom,ctx:this,onReachBottomDistance:1e3}),this._offPageScroll=Object(J.a)({callback:this.onPageScroll,ctx:this})}},{key:"componentDidHide",value:function(){this._offReachBottom&&this._offReachBottom(),this._offPageScroll&&this._offPageScroll()}},{key:"handleReachBottom",value:function(){Bn||(this.state.curCategory?this.loadCategoryData():this.loadPinLikeData())}},{key:"handleScroll",value:function(e){var t=document.documentElement.clientHeight;window.pageYOffset+t+1e3>document.documentElement.scrollHeight&&this.handleReachBottom()}},{key:"onReachBottom",value:function(){this._handleReachBottom||(this._handleReachBottom=m(this.handleReachBottom,300,500)),Y.isXcx&&this._handleReachBottom()}},{key:"handlePageScroll",value:function(e){var t=this.state.showGoTop,n=e.scrollTop,a=void 0===n?1:n;if(a<0&&(a=0),!t&&a>=700?this.setState({showGoTop:!0}):t&&a<=700&&this.setState({showGoTop:!1}),Y.JD.events.trigger("pingouIndexHideBigCurtain"),Y.isXcx)a>Ln?this.state.showSearchBar&&this.setState({showSearchBar:!1}):this.state.showSearchBar||this.setState({showSearchBar:!0});else{var r=this.state.showMCommonHeader,o=document.querySelector("#search_block");a<(r?93:44)?this.setState({fixedNav:!1},function(){o.style.position="absolute",o.style.display="flex",o.style.top=r?"44px":"0px"}):(this.setState({fixedNav:!0},function(){o.style.position="fixed",o.style.top="0px"}),a>=Ln?this.state.showSearchBar&&this.setState({showSearchBar:!1},function(){o.style.display="none"}):this.state.showSearchBar||this.setState({showSearchBar:!0},function(){o.style.display="flex"}))}Ln=a}},{key:"onPageScroll",value:function(e){this._handlePageScroll||(this._handlePageScroll=m(this.handlePageScroll,300,300)),this._handlePageScroll(e)}},{key:"speedReport",value:function(e){window._PFM_TIMING||(window._PFM_TIMING=[]),window._PFM_TIMING[e]=new Date,window.__SPD_RPT&&window.__SPD_RPT.report&&4==e&&window.__SPD_RPT.report()}},{key:"loadCategoryData",value:function(){var e=this,t=this.state,n=t.categoryTabData,a=t.curCategory,r=t.categoryActConfig,o=t.categoryIsError,i=t.categoryIsLoading,u=n.pi,s={pi:u,pc:n.pc,id:a};if(!(n.isEnd||i||o)&&a){if(this.setState({categoryIsLoading:!0}),1===u){var l=r[a];if(l){var f=l.groupId,d=l.locationIds;f&&d&&pn.getActData({groupId:f,locationIds:d}).then(function(t){(0,c.default)({},e.state.categoryTabData,{actData:t}),e.setState(function(){})}).catch(function(){})}}n.goodsData.map(function(e){return e.skuId}),console.log("=============>  加载分类商品，页数："+u),pn.getGoodsData(s).then(function(t){var n=t.id,a=t.goodsData,r=void 0===a?[]:a,o=t.pi,i=e.state,u=i.curCategory,s=i.categoryTabData;if(s=(0,c.default)({},s),console.log("=============>  加载分类商品done，页数："+o+" 数量："+r.length),u===n&&s.pi===o){var l=s.goodsData.map(function(e){return e.skuId}),f=l.length;r.forEach(function(e){for(var t=!1,n=0;n<f;n++)if(l[n]===e.skuId){t=!0;break}t||s.goodsData.push(e)}),(s.goodsData.length>=s.loadTotal||s.pi*s.pc>=s.loadTotal)&&(s.isEnd=!0),s.pi=o+1,e.setState({categoryTabData:s,categoryIsLoading:!1})}}).catch(function(){e.setState({categoryIsError:!0,categoryIsLoading:!1})})}}},{key:"loadPinLikeData",value:function(){var e=this,t=this.state,n=t.pinLikeData,a=t.pinLikeIsError,r=t.pinLikeIsLoading,o=n.pi,i=n.pc,u=n.actConfig,s=n.isEnd,l=n.feedPc,f=n.feedPi,d=n.feedFilter,p=n.feedData,h=n.goodsData,g=n.mixConfig,m={pi:o,pc:i};if(!(s||r||a)){if(console.log("=============>  加载拼你喜欢商品，页数："+o),this.setState({pinLikeIsLoading:!0}),1===o&&u){console.log("=============>  加载拼你喜欢活动，页数："+o);var v=u.groupId,b=u.locationIds;v&&b&&bn.getActData({groupId:v,locationIds:b}).then(function(t){var n=(0,c.default)({},e.state.pinLikeData,{actData:t});console.log("=============>  加载拼你喜欢活动 done，页数："+o+" 个数："+t.length),e.setState({pinLikeData:n})})}if(bn.getGoodsData(m).then(function(t){var n=e.state,a=n.pinLikeData,r=n.bipinData,o=a.pi,i=a.pc,u=a.goodsData,s=a.popupConfig,l=u.concat([]),f=!1;(l.length>=a.loadTotal||o*i>=a.loadTotal)&&(f=!0);var d=l.map(function(e){return e.skuId});1===o&&(d=d.concat(r.skuIds));var p=d.length;t.forEach(function(e){for(var t=!1,n=0;n<p;n++)if(d[n]===e.skuId){t=!0;break}t||l.push(e)}),o===s.showPopupPi&&e.showRecCurtain(),console.log("=============>  加载拼你喜欢商品 done，页数："+o);var h=(0,c.default)({},a,{pi:o+1,isEnd:f,goodsData:l});e.setState({pinLikeData:h,pinLikeIsLoading:!1})}).catch(function(){console.log("load pinLikeGoodsData error"),e.setState({pinLikeIsError:!0,pinLikeIsLoading:!1})}),g){var y=g.twoColsInterval,_=g.twoColsStartPos;if(0!==_&&0!==y){var w=Math.floor((h.length+1*i-_)/y)+1;p.length<w&&(console.log("=============>  加载拼你喜欢feed，feed页数："+f),bn.getFeedData({pc:l,pi:f,filter:d}).then(function(t){var n=e.state.pinLikeData,a=(n.feedPc,n.feedPi),r=n.feedData.concat(t);console.log("=============>  拼你喜欢feed数据 done");var o=(0,c.default)({},n,{feedPi:a+1,feedData:r});e.setState({pinLikeData:o})}).catch(function(){}))}}}}},{key:"tabChange",value:function(e){var t=this;console.log("tabChange:"+e);var n=this.state.curCategory,a=this.state.isInitedChosen,r=e||"";if(jn===O.a.ENV_TYPE.WEB){var o=void 0;if(r)o=Y.JD.url.addUrlParam(window.location.href,{cateid:r});else{var i=Y.JD.url.getUrlParam("cateid");o=window.location.href.replace("cateid="+i,"")}window.history.replaceState("",document.title,o)}else O.a.ENV_TYPE.WEAPP;if(n!==r||!(r&&this.state.categoryTabData.goodsData.length||!r&&a)){var u="";if(r){var s=this.state.tabData.category.find(function(e){return e.smartId===r});s&&s.ptag&&(u=s.ptag+".3")}this.setState({categoryIsLoading:!1,categoryIsError:!1,curCategory:r,categoryTabData:(0,c.default)({},this.state.categoryTabData,{pi:1,pc:20,goodsData:[],actData:[],categoryId:"",isEnd:!1}),categoryGoodsPtag:u},function(){setTimeout(function(){r?t.loadCategoryData():t.initChosen(On)},0)})}}},{key:"handleTabNavItemClick",value:function(e){Bn=!0,Y.isXcx?Object(U.a)({scrollTop:0,duration:0}).then(function(){Bn=!1}):(window&&window.scrollTo(0,0),Bn=!1),this.tabChange(e)}},{key:"checkFscreenLoaded",value:function(){return Un.tabNav&&Un.banner&&Un.iconNav&&Un.bipin}},{key:"initSearchBar",value:function(){var e=this;Sn.getHiddenWords().then(function(t){e.setState({searchHiddenWords:t})}).catch(function(){})}},{key:"initHeaderBgImage",value:function(e){var t=l(e),n=t&&t[0]&&t[0].img||"//img11.360buyimg.com/jdphoto/jfs/t1/34632/30/10420/1872/5cdac17fE98b67b90/2a48419ec424ed7b.png";if(jn===O.a.ENV_TYPE.WEB){var a=document.getElementById("search_block");a&&(a.style.backgroundImage="url("+n+")")}this.setState({headerBgImage:n})}},{key:"initChosen",value:function(e){var t=this,n=this.state.isInitedChosen,a=Y.JD.device.scene;n||(this.setState({isInitedChosen:!0}),this.initRecCurtain(e.recCurtain),this.initPinLike(e.pinLikeConfig),this.initQuickNav(e.quickNavConfig),this.initBigPromo(e.bigPromoConfig),this.initServiceStandard(e.serviceStandard),this.initBanner(e.banner),this.initBipin(e.bipin),this.initIconConfig(e.iconConfig),this.initPingouNewBanner(e.pingouNewBanner),this.initCrossBarBanner(e.crossBarBannerConfig),"jdpingou"===a?this.initNewGift(e.newGiftConfig).then(function(n){n||t.initBigcurtain(e.bigcurtain)}).catch(function(){t.initBigcurtain(e.bigcurtain)}):this.initBigcurtain(e.bigcurtain))}},{key:"initTabNav",value:function(e){var t=this,n=this.state.tabData,a=Y.isXcx?this.$router.params.cateid:Y.JD.url.getUrlParam("cateid");if(console.log("cateId:"+a),n){if(Un.tabNav=!0,this.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded"),a){var r=n.category.find(function(e){return e.smartId===a});a=r&&r.smartId||""}this.tabChange(a)}else un(e).then(function(e){var n={},r="";e.category&&e.category.length&&e.category.forEach(function(e){var t=e.smartId,o=e.actConfig;if(o){var i=o.groupId,c=o.locationId,u=o.actPos;i&&c&&u&&(n[t]={groupId:i,locationIds:c.split("|"),actPos:u.split("|")})}a===t&&(r=a)}),t.setState({tabData:e,categoryActConfig:n},function(){t.tabChange(r)}),Un.tabNav=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")}).catch(function(){Un.tabNav=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")})}},{key:"initPinLike",value:function(e){var t=e[0],n=t.actConfig,a=t.feedConfig,r=t.pinSourceConfig,o=t.popupConfig,i=t.mixConfig;if(n=l(n,1)[0],a=l(a,1)[0],o=l(o,1)[0],r=r[0],i=l(i,1)[0],n){var u=n,s=u.groupId,f=u.locationId,d=u.actPos;s&&f&&d&&(n={groupId:s,locationIds:f.split("|"),actPos:d.split("|")})}if(a){var p=a;a={shaidanText:p.shaidanText,videoText:p.videoText}}if(o){var h=o.showPopupPi;o={showPopupPi:h=parseInt(h)}}if(i){var g=i,m=g.twoColsStartPos,v=g.twoColsInterval;m=parseInt(m),v=parseInt(v),i={twoColsStartPos:isNaN(m)?0:m,twoColsInterval:isNaN(v)?0:v}}if(r){var b=r;r={bipin:b.bipin,factory:b.factory,brand:b.brand,yiyuan:b.yiyuan,ziying:b.ziying}}var y=(0,c.default)({},this.state.pinLikeData,{actConfig:n,feedConfig:a,pinSourceConfig:r,popupConfig:o,mixConfig:i});this.setState({pinLikeData:y})}},{key:"loadFocusbiData",value:function(e){var t=this,n=e.searchAct,a=[],r=[];(n=l(n,1)[0])?(a.push(n.groupid),r.push(n.locationid+":1"),function(e){var t={},n=[],a=[];return e.gids.forEach(function(e){n.indexOf(e)<0&&n.push(e)}),e.pcs.forEach(function(e){a.indexOf(e)<0&&a.push(e)}),_({recpos:e.recpos,pc:a.length?1:0,gids:n.join("|"),pcs:a.join(",")}).then(function(e){return 0!==e.length&&e.forEach(function(e){var n={};e.locations.forEach(function(e){n[e.locationid]=e.plans}),t[e.groupid]=n}),t})}({gids:a,pcs:r,recpos:"4235"}).then(function(e){if(n=e[n.groupid]&&e[n.groupid][n.locationid]&&e[n.groupid][n.locationid][0]){if(jn===O.a.ENV_TYPE.WEB){var a=document.getElementById("lnkSearchbarAd");if(a)if(n.material&&n.sUrl){var r=new Image;r.src=n.material,r.addEventListener("click",function(){window.location.href=Y.JD.url.addUrlParam(n.sUrl,{ptag:"138631.2.1"})}),a.appendChild(r)}else a.parentNode.removeChild(a)}t.setState({searchAct:n})}else t.removeSearhbarAd()})):this.removeSearhbarAd()}},{key:"removeSearhbarAd",value:function(){if(jn===O.a.ENV_TYPE.WEB){var e=document.getElementById("lnkSearchbarAd");e&&e.parentNode.removeChild(e)}}},{key:"initBanner",value:function(e){var t=this;sn(e).then(function(e){e.data&&e.data.length>0&&t.setState({bannerData:e}),Un.banner=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")}).catch(function(e){console.warn(e),Un.banner=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")})}},{key:"initBipin",value:function(e){var t=this,n=this.state.bipinData.ptagSku,a=Y.isXcx?this.$router.params.todaytopsku:Y.JD.url.getUrlParam("sku");ln(e,n,a).then(function(e){e&&e.list&&e.list.length>0&&(e=(0,c.default)(t.state.bipinData,e),t.setState({bipinData:e})),Un.bipin=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")}).catch(function(e){console.warn(e),Un.bipin=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")})}},{key:"initFloating",value:function(e){var t=this;fn(e).then(function(e){e.image&&(e=(0,c.default)(t.state.floatingData,e),t.setState({floatingData:e}))}).catch(function(e){console.warn(e)})}},{key:"initNpsFloating",value:function(e){var t=this,n=l(e||[],1)[0],a=n&&n.image,r=Y.JD.device.scene;if("weixin"!==r&&"jdapp"!==r||!a){var o=(0,c.default)({},this.state.npsFloatingConfig,{show:!1});this.setState({npsFloatingConfig:o})}else Pn.getUserSurvey().then(function(e){var n,r;n=!!(r=e&&e.answerUrl);var o=(0,c.default)({},t.state.npsFloatingConfig,{show:n,answerUrl:r,image:a});t.setState({npsFloatingConfig:o})}).catch(function(){var e=(0,c.default)({},t.state.npsFloatingConfig,{show:!1});t.setState({npsFloatingConfig:e})})}},{key:"initNewGift",value:function(e){var t=this;return Dn.getNewGiftData(e).then(function(e){return t.setState({newGiftData:e}),e}).catch(function(){})}},{key:"initBigcurtain",value:function(e){var t=this;dn(e).then(function(e){e.image&&(e=(0,c.default)(t.state.bigcurtainData,e),t.setState({bigcurtainData:e}))}).catch(function(e){console.warn(e)})}},{key:"initRecCurtain",value:function(e){(e=l(e)[0])&&(e=(0,c.default)(this.state.recCurtainConfig,e),this.setState({recCurtainConfig:e}))}},{key:"showRecCurtain",value:function(){console.log("showRecCurtain");var e=Tn({},this.state.recCurtainConfig);e.show=!0,this.setState({recCurtainConfig:e})}},{key:"initServiceStandard",value:function(e){if(e){var t=l(e)[0];t&&this.setState({serviceStandardList:t&&t.serviceStandardDetail})}}},{key:"initIconConfig",value:function(e){var t=this;e&&e.length&&I(e[0]).then(function(e){t.setState({iconConfig:e}),Un.iconNav=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")}).catch(function(){Un.iconNav=!0,t.checkFscreenLoaded()&&Y.JD.events.trigger("fscreenLoaded")})}},{key:"initPingouNewBanner",value:function(e){var t=this;e&&function(e){return w().then(function(t){if(t){var n=l(e)[0];if(n)return _({gids:n.adGroupId,pcs:n.headAdId+":1"}).then(function(e){if(e&&e.length){var t=e.find(function(e){return e.groupid===n.adGroupId}).locations.find(function(e){return e.locationid===n.headAdId}).plans;if(t&&t[0]&&t[0].sUrl&&t[0].material)return{link:t[0].materiallink,imgUrl:t[0].material}}})}})}(e).then(function(e){t.setState({newBannerData:e})}).catch(function(e){console.warn("新人banner",e)})}},{key:"initCrossBarBanner",value:function(e){var t=this;e&&e.length&&function(e){var t=l(e)[0];if(t)return _({gids:t.adGroupId,pcs:t.adLocationId+":1",recpos:"4230"}).then(function(e){if(e&&e.length){var n=[];return e.find(function(e){return e.groupid===t.adGroupId}).locations.forEach(function(e){if(e.locationid===t.adLocationId&&e.plans[0]){var a=e.plans[0],r=a.promotion,o=[];o="3"===r?[{link:a.userdata1,ptag:hn+"2"},{link:a.userdata2,ptag:hn+"3"},{link:a.userdata3,ptag:hn+"4"}]:"2"===r?[{link:a.userdata1,ptag:hn+"2"},{link:a.userdata2,ptag:hn+"3"}]:"1"===r?[{link:a.userdata1,ptag:hn+"1"}]:[{link:a.sUrl,ptag:hn+"1"}],n.push({imgUrl:a.material,links:o})}}),n}})}(e).then(function(e){t.setState({saleBanner:e})}).catch(function(e){console.warn("战略通栏",e)})}},{key:"initQuickNav",value:function(e){if(e&&e[0]){e=e[0];var t=Y.JD.device.scene,n="";if("jdm"===t||"mobile"===t?n="quickNavJDM":"weixin"===t&&(n="quickNavWx"),n&&e&&e[n]){var a=l(e[n]).map(function(e){return{icon:e.icon,text:e.text,url:e.url}});a.length>0&&this.setState({quickNavConfig:a})}}}},{key:"initBigPromo",value:function(e){if(e){var t=l(e),n=Y.JD.device.scene,a=Y.isXcx?"weapp":"jdpingou"===n?"jdpingou":"h5",r=t.find(function(e){return-1!==e.channel.indexOf(a)});if(r){var o=r.image,i=r.leftLink,c=r.middleLink,u=r.rightLink,s=r.countdownText,f=r.countdownLink,d=r.countdownEndTime;this.setState({bigPromoConfig:{image:o,leftLink:i,middleLink:c,rightLink:u,countdownText:s,countdownLink:f,countdownEndTime:d}})}}}},{key:"initPromoProperty",value:function(e){if(e){var t=l(e)[0];if(t){var n=t.img;this.setState({promoPropertyConfig:{img:n}})}}}},{key:"initShare",value:function(e,t){try{var n=l(e,100),a=n[parseInt(Math.random()*n.length,10)]||{};if(a){if(jn===O.a.ENV_TYPE.WEB){var r=window.location.href;"jdm"!=Y.JD.device.scene&&"mobile"!=Y.JD.device.scene||(r=Y.JD.url.addUrlParam(r,{pingou_m:"1",ptag:"17053.60.1",sceneval:""})),window.shareConfig={img_url:a.img?a.img.replace(/^((https||http):?)\/\//,"https://"):"https://img20.360buyimg.com/jdphoto/jfs/t26710/351/295189699/16195/17326611/5b8de0efNab924a3b.jpg",img_width:"80",img_height:"80",link:r,title:a.title||"京东拼购，购品质省更多",desc:a.desc||"海量优质低价的好东西可以拼购啦！参与京东拼购，给您超值的优惠！",shareCallback:function(e,t){}}}(a=(n=l(t,100))[parseInt(Math.random()*n.length,10)]||{})&&(this.shareConfig=a,jn===O.a.ENV_TYPE.WEB&&this.setWxappShare(a))}}catch(e){console.log("分享文案未设置")}}},{key:"setWxappShare",value:function(e){var t={url:e.link||window.location.href,title:e.title||"京东拼购，购品质省更多，每日海量优质商品等你来",imgurl:e.img?e.img.replace(/^((https||http):?)\/\//,"https://"):""};window.wxappShareConfig&&window.wxappShareConfig(t,{success:function(e){},cancel:function(e){},fail:function(e){},nosupport:function(e){}}),"weixin"==Y.JD.device.scene&&Y.JD.wxapi&&Y.JD.wxapi.ready(function(){window.wxappShareConfig&&window.wxappShareConfig(t,{success:function(e){},cancel:function(e){},fail:function(e){},nosupport:function(e){}})})}},{key:"render",value:function(){var e=this.state,t=e.headerBgImage,n=e.curCategory,a=e.tabData,r=e.serviceStandardList,o=e.iconConfig,i=e.newBannerData,c=e.bannerData,u=(e.searchAct,e.bipinData),s=e.floatingData,l=e.bigcurtainData,f=e.recCurtainConfig,d=e.saleBanner,p=e.showGoTop,g=e.pinLikeData,m=e.categoryTabData,v=e.categoryActConfig,b=e.npsFloatingConfig,y=e.categoryGoodsPtag,_=e.showSearchBar,w=e.fixedNav,k=e.showMCommonHeader,E=(e.searchHiddenWords,e.fscreenLoaded),C=e.quickNavConfig,x=e.bigPromoConfig,N=e.newGiftData,P=e.categoryIsError,S=e.pinLikeIsError,D=e.categoryIsLoading,T=e.pinLikeIsLoading,I=e.promoPropertyConfig,j={};return Y.isXcx&&(j.paddingTop=_?"98px":"49px"),B.b.createElement(M.a,{className:"index",onClick:this.hideBigCurtain,style:j},!1,B.b.createElement(ut,{image:t,tabData:a,curCategory:n,showSearchBar:_,fixedNav:w,showMCommonHeader:k,onTabNavItemClick:this.handleTabNavItemClick.bind(this)}),B.b.createElement(M.a,{className:"main-container featured-wrapper",onClick:this.hideBigCurtain,style:{display:n?"none":"block"}},c.data&&c.data.length>0&&B.b.createElement(M.a,{className:"heading-image",style:"background-image:url("+h(t)+")"}),l.image&&l.link&&B.b.createElement(_t,{image:l.image,link:l.link,duration:l.duration}),c.data&&B.b.createElement(ve,{topBanner:c.topBanner,normalBanner:c.normalBanner,adBanner:c.adBanner,data:c.data,totalNum:c.totalNum,interval:c.interval}),r.length>0&&B.b.createElement(Fe,{serviceStandardList:r}),B.b.createElement(nt,{iconList:o.iconConfigList,iconBasicConfig:o.iconBasicConfig}),E&&x&&B.b.createElement(rn,{data:x}),E&&d&&d.length>0&&B.b.createElement(Ht,{saleBanner:d}),i&&i.imgUrl&&B.b.createElement(Je,{bannerData:i}),u.list.length>0&&B.b.createElement(Ie,{list:u.list,interval:u.interval,ptagHead:u.ptagHead,ptagSku:u.ptagSku}),E&&B.b.createElement(en,{isLoading:T,isEnd:g.isEnd,isError:S,goodsData:g.goodsData,feedData:g.feedData,feedConfig:g.feedConfig,pinSourceConfig:g.pinSourceConfig,actData:g.actData,actConfig:g.actConfig,mixConfig:g.mixConfig,promoPropertyConfig:I}),f.show&&B.b.createElement(Pt,{groupId:f.groupId,locationId:f.locationId,duration:parseInt(f.duration),show:f.show})),B.b.createElement(M.a,{className:"main-container category-wrapper",style:{display:n?"block":"none"}},B.b.createElement(bt,{isLoading:D,isEnd:m.isEnd,isError:P,goodsData:m.goodsData,actData:m.actData,actConfig:v[n],ptag:y,promoPropertyConfig:I})),b.show?B.b.createElement(lt,{image:b.image,answerUrl:b.answerUrl}):s.image&&B.b.createElement(Oe,{image:s.image,link:s.link}),C.length>0?B.b.createElement(nn,{navList:C}):null,N?B.b.createElement(cn,{data:N}):null,!1,B.b.createElement(M.a,{style:{display:p?"block":"none"},className:"index__back-top",id:"indexBackTop",onClick:this.goBackTop}))}}]),t}()},111:function(e,t,n){},114:function(e,t,n){},116:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){},129:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},28:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}}])},function(e,t,n){e.exports={default:n(55),__esModule:!0}},function(e,t,n){var a=n(0),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){e.exports={default:n(57),__esModule:!0}},function(e,t,n){n(58),e.exports=n(0).Object.assign},function(e,t,n){var a=n(3);a(a.S+a.F,"Object",{assign:n(59)})},function(e,t,n){"use strict";var a=n(18),r=n(29),o=n(20),i=n(30),c=n(37),u=Object.assign;e.exports=!u||n(10)(function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=a})?function(e,t){for(var n=i(e),u=arguments.length,s=1,l=r.f,f=o.f;u>s;)for(var d,p=c(arguments[s++]),h=l?a(p).concat(l(p)):a(p),g=h.length,m=0;g>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var a=n(11),r=n(38),o=n(61);e.exports=function(e){return function(t,n,i){var c,u=a(t),s=r(u.length),l=o(i,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var a=n(25),r=Math.max,o=Math.min;e.exports=function(e,t){return e=a(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(63),__esModule:!0}},function(e,t,n){n(64),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var a=n(3);a(a.S,"Object",{setPrototypeOf:n(65).set})},function(e,t,n){var a=n(6),r=n(4),o=function(e,t){if(r(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=n(12)(Function.call,n(39).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t,n){n(68);var a=n(0).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){var a=n(3);a(a.S,"Object",{create:n(31)})},function(e,t,n){var a=n(5),r=n(4),o=n(18);e.exports=n(7)?Object.defineProperties:function(e,t){r(e);for(var n,i=o(t),c=i.length,u=0;c>u;)a.f(e,n=i[u++],t[n]);return e}},function(e,t,n){e.exports={default:n(71),__esModule:!0}},function(e,t,n){n(72),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var a=n(30),r=n(41);n(73)("getPrototypeOf",function(){return function(e){return r(a(e))}})},function(e,t,n){var a=n(3),r=n(0),o=n(10);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*o(function(){n(1)}),"Object",i)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(75),o=a(r),i=n(82),c=a(i),u="function"==typeof c.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":typeof e};t.default="function"==typeof c.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports={default:n(76),__esModule:!0}},function(e,t,n){n(42),n(45),e.exports=n(32).f("iterator")},function(e,t,n){var a=n(25),r=n(24);e.exports=function(e){return function(t,n){var o,i,c=String(r(t)),u=a(n),s=c.length;return u<0||u>=s?e?"":void 0:(o=c.charCodeAt(u),o<55296||o>56319||u+1===s||(i=c.charCodeAt(u+1))<56320||i>57343?e?c.charAt(u):o:e?c.slice(u,u+2):i-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var a=n(31),r=n(17),o=n(21),i={};n(8)(i,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=a(i,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var a=n(80),r=n(81),o=n(15),i=n(11);e.exports=n(43)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84),n(47),n(89),n(90),e.exports=n(0).Symbol},function(e,t,n){"use strict";var a=n(1),r=n(9),o=n(7),i=n(3),c=n(44),u=n(85).KEY,s=n(10),l=n(27),f=n(21),d=n(19),p=n(2),h=n(32),g=n(33),m=n(86),v=n(87),b=n(4),y=n(6),_=n(11),w=n(23),k=n(17),E=n(31),C=n(88),x=n(39),N=n(5),P=n(18),S=x.f,D=N.f,T=C.f,I=a.Symbol,j=a.JSON,L=j&&j.stringify,B=p("_hidden"),O=p("toPrimitive"),U={}.propertyIsEnumerable,R=l("symbol-registry"),J=l("symbols"),M=l("op-symbols"),A=Object.prototype,F="function"==typeof I,W=a.QObject,q=!W||!W.prototype||!W.prototype.findChild,H=o&&s(function(){return 7!=E(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var a=S(A,t);a&&delete A[t],D(e,t,n),a&&e!==A&&D(A,t,a)}:D,G=function(e){var t=J[e]=E(I.prototype);return t._k=e,t},X=F&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function(e,t,n){return e===A&&Y(M,t,n),b(e),t=w(t,!0),b(n),r(J,t)?(n.enumerable?(r(e,B)&&e[B][t]&&(e[B][t]=!1),n=E(n,{enumerable:k(0,!1)})):(r(e,B)||D(e,B,k(1,{})),e[B][t]=!0),H(e,t,n)):D(e,t,n)},V=function(e,t){b(e);for(var n,a=m(t=_(t)),r=0,o=a.length;o>r;)Y(e,n=a[r++],t[n]);return e},K=function(e,t){return void 0===t?E(e):V(E(e),t)},z=function(e){var t=U.call(this,e=w(e,!0));return!(this===A&&r(J,e)&&!r(M,e))&&(!(t||!r(this,e)||!r(J,e)||r(this,B)&&this[B][e])||t)},$=function(e,t){if(e=_(e),t=w(t,!0),e!==A||!r(J,t)||r(M,t)){var n=S(e,t);return!n||!r(J,t)||r(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=T(_(e)),a=[],o=0;n.length>o;)r(J,t=n[o++])||t==B||t==u||a.push(t);return a},Q=function(e){for(var t,n=e===A,a=T(n?M:_(e)),o=[],i=0;a.length>i;)!r(J,t=a[i++])||n&&!r(A,t)||o.push(J[t]);return o};F||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===A&&t.call(M,n),r(this,B)&&r(this[B],e)&&(this[B][e]=!1),H(this,e,k(1,n))};return o&&q&&H(A,e,{configurable:!0,set:t}),G(e)},c(I.prototype,"toString",function(){return this._k}),x.f=$,N.f=Y,n(46).f=C.f=Z,n(20).f=z,n(29).f=Q,o&&!n(14)&&c(A,"propertyIsEnumerable",z,!0),h.f=function(e){return G(p(e))}),i(i.G+i.W+i.F*!F,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=P(p.store),ae=0;ne.length>ae;)g(ne[ae++]);i(i.S+i.F*!F,"Symbol",{for:function(e){return r(R,e+="")?R[e]:R[e]=I(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),i(i.S+i.F*!F,"Object",{create:K,defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),j&&i(i.S+i.F*(!F||s(function(){var e=I();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,a=[e],r=1;arguments.length>r;)a.push(arguments[r++]);if(n=t=a[1],(y(t)||void 0!==e)&&!X(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),a[1]=t,L.apply(j,a)}}),I.prototype[O]||n(8)(I.prototype,O,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},function(e,t,n){var a=n(19)("meta"),r=n(6),o=n(9),i=n(5).f,c=0,u=Object.isExtensible||function(){return!0},s=!n(10)(function(){return u(Object.preventExtensions({}))}),l=function(e){i(e,a,{value:{i:"O"+ ++c,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[a].i},d=function(e,t){if(!o(e,a)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[a].w},p=function(e){return s&&h.NEED&&u(e)&&!o(e,a)&&l(e),e},h=e.exports={KEY:a,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var a=n(18),r=n(29),o=n(20);e.exports=function(e){var t=a(e),n=r.f;if(n)for(var i,c=n(e),u=o.f,s=0;c.length>s;)u.call(e,i=c[s++])&&t.push(i);return t}},function(e,t,n){var a=n(13);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(11),r=n(46).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return r(e)}catch(e){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?c(e):r(a(e))}},function(e,t,n){n(33)("asyncIterator")},function(e,t,n){n(33)("observable")},function(e,t,n){e.exports={default:n(92),__esModule:!0}},function(e,t,n){n(93);var a=n(0).Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},function(e,t,n){var a=n(3);a(a.S+a.F*!n(7),"Object",{defineProperty:n(5).f})},function(e,t,n){e.exports={default:n(95),__esModule:!0}},function(e,t,n){n(47),n(42),n(45),n(96),n(108),n(109),e.exports=n(0).Promise},function(e,t,n){"use strict";var a,r,o,i,c=n(14),u=n(1),s=n(12),l=n(48),f=n(3),d=n(6),p=n(16),h=n(97),g=n(98),m=n(49),v=n(50).set,b=n(103)(),y=n(34),_=n(51),w=n(104),k=n(52),E=u.TypeError,C=u.process,x=C&&C.versions,N=x&&x.v8||"",P=u.Promise,S="process"==l(C),D=function(){},T=r=y.f,I=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(D,D)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==N.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),j=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var a=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,i,c=r?t.ok:t.fail,u=t.resolve,s=t.reject,l=t.domain;try{c?(r||(2==e._h&&U(e),e._h=1),!0===c?n=a:(l&&l.enter(),n=c(a),l&&(l.exit(),i=!0)),n===t.promise?s(E("Promise-chain cycle")):(o=j(n))?o.call(n,u,s):u(n)):s(a)}catch(e){l&&!i&&l.exit(),s(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&B(e)})}},B=function(e){v.call(u,function(){var t,n,a,r=e._v,o=O(e);if(o&&(t=_(function(){S?C.emit("unhandledRejection",r,e):(n=u.onunhandledrejection)?n({promise:e,reason:r}):(a=u.console)&&a.error&&a.error("Unhandled promise rejection",r)}),e._h=S||O(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){v.call(u,function(){var t;S?C.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},J=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=j(e))?b(function(){var a={_w:n,_d:!1};try{t.call(e,s(J,a,1),s(R,a,1))}catch(e){R.call(a,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};I||(P=function(e){h(this,P,"Promise","_h"),p(e),a.call(this);try{e(s(J,this,1),s(R,this,1))}catch(e){R.call(this,e)}},a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=n(105)(P.prototype,{then:function(e,t){var n=T(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new a;this.promise=e,this.resolve=s(J,e,1),this.reject=s(R,e,1)},y.f=T=function(e){return e===P||e===i?new o(e):r(e)}),f(f.G+f.W+f.F*!I,{Promise:P}),n(21)(P,"Promise"),n(106)("Promise"),i=n(0).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(c||!I),"Promise",{resolve:function(e){return k(c&&this===i?P:this,e)}}),f(f.S+f.F*!(I&&n(107)(function(e){P.all(e).catch(D)})),"Promise",{all:function(e){var t=this,n=T(t),a=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,i=1;g(e,!1,function(e){var c=o++,u=!1;n.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,n[c]=e,--i||a(n))},r)}),--i||a(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=T(t),a=n.reject,r=_(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,a)})});return r.e&&a(r.v),n.promise}})},function(e,t){e.exports=function(e,t,n,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var a=n(12),r=n(99),o=n(100),i=n(4),c=n(38),u=n(101),s={},l={},t=e.exports=function(e,t,n,f,d){var p,h,g,m,v=d?function(){return e}:u(e),b=a(n,f,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=c(e.length);p>y;y++)if((m=t?b(i(h=e[y])[0],h[1]):b(e[y]))===s||m===l)return m}else for(g=v.call(e);!(h=g.next()).done;)if((m=r(g,b,h.value,t))===s||m===l)return m};t.BREAK=s,t.RETURN=l},function(e,t,n){var a=n(4);e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},function(e,t,n){var a=n(15),r=n(2)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[r]===e)}},function(e,t,n){var a=n(48),r=n(2)("iterator"),o=n(15);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[a(e)]}},function(e,t){e.exports=function(e,t,n){var a=void 0===n;switch(t.length){case 0:return a?e():e.call(n);case 1:return a?e(t[0]):e.call(n,t[0]);case 2:return a?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var a=n(1),r=n(50).set,o=a.MutationObserver||a.WebKitMutationObserver,i=a.process,c=a.Promise,u="process"==n(13)(i);e.exports=function(){var e,t,n,s=function(){var a,r;for(u&&(a=i.domain)&&a.exit();e;){r=e.fn,e=e.next;try{r()}catch(a){throw e?n():t=void 0,a}}t=void 0,a&&a.enter()};if(u)n=function(){i.nextTick(s)};else if(!o||a.navigator&&a.navigator.standalone)if(c&&c.resolve){var l=c.resolve(void 0);n=function(){l.then(s)}}else n=function(){r.call(a,s)};else{var f=!0,d=document.createTextNode("");new o(s).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(a){var r={fn:a,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var a=n(1),r=a.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var a=n(8);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:a(e,r,t[r]);return e}},function(e,t,n){"use strict";var a=n(1),r=n(0),o=n(5),i=n(7),c=n(2)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:a[e];i&&t&&!t[c]&&o.f(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){var a=n(2)("iterator"),r=!1;try{var o=[7][a]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],i=o[a]();i.next=function(){return{done:n=!0}},o[a]=function(){return i},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var a=n(3),r=n(0),o=n(1),i=n(49),c=n(52);a(a.P+a.R,"Promise",{finally:function(e){var t=i(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then(function(){return n})}:e,n?function(n){return c(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var a=n(3),r=n(34),o=n(51);a(a.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})}]);
//# sourceMappingURL=index_index.87593d5c.js.map